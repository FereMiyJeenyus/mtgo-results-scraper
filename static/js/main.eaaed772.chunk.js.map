{"version":3,"sources":["types.ts","scraper.ts","CardItem.tsx","DeckList.tsx","DeckDetailModal.tsx","InfoModal.tsx","RuleForm.tsx","ArchetypeView.tsx","RulesModal.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["guildMap","shardMap","getDecksFromUrl","wotcUrl","startsWith","fetch","response","text","body","decklistLineRegex","RegExp","match","exec","parsed","JSON","parse","split","console","log","decks","map","d","i","parsedDeck","deck","find","x","SB","DECK_CARDS","parsedSideboard","main","c","name","CARD_ATTRIBUTES","NAME","count","Quantity","highlighted","info","cardInfo","sideboard","pilot","player","url","archetype","index","favorite","spicy","duplicatePilot","setList","code","colorMap","W","undefined","U","B","R","G","M","C","CardItem","props","cardColor","otherHalfColor","card","toggleCardHighlight","costIcons","colors","manaCost","length","otherHalf","slice","forEach","pip","push","List","Item","style","marginLeft","paddingTop","content","symbol","replace","toLowerCase","shadow","onClick","className","Popup","trigger","Content","color","Header","Meta","type","Description","whiteSpace","power","toughness","extra","padding","float","fontWeight","faceName","colorLabels","typeLabels","colorColors","typeColors","DeckList","result","updateDeck","useState","colorCount","setColorCount","typeCount","setTypeCount","useEffect","wCount","uCount","bCount","rCount","gCount","cCount","creatures","noncreatures","lands","types","includes","Planeswalkers","Creatures","Instants","Sorceries","Artifacts","Enchantments","Lands","Unknown","side","Companion","Grid","width","padded","Row","Column","marginBottom","textAlign","Icon","size","marginTop","Object","keys","filter","key","Container","data","labels","datasets","backgroundColor","options","title","display","legend","label","position","cutoutPercentage","DeckDetailModal","results","setResults","open","onClose","displayedDeckIndex","setDisplayedDeckIndex","resultCount","goToNextDeck","displayedDeck","res","updateDisplayedDeck","Modal","top","left","closeOnDimmerClick","closeIcon","verticalAlign","Input","value","onChange","e","onKeyPress","Checkbox","checked","Button","InfoModal","centered","paddingLeft","ordered","ListItem","href","RuleForm","rule","updateRule","removeRule","cardOptions","cardName","Form","Dropdown","selection","search","lazyLoad","minCharacters","_e","fluid","clearable","atLeast","atMost","in","icon","ArchetypeView","updateArchetype","newRules","rules","splice","divided","placeholder","target","toggle","prefixColors","r","RulesModal","archetypeRules","setArchetypeRules","activeIndex","setActiveIndex","newArchetypes","findIndex","a","id","Accordion","Title","active","Actions","floated","App","hasScraped","setHasScraped","setWotcUrl","isLoading","setIsLoading","resultList","setResultList","selectedCards","setSelectedCards","cardCounts","setCardCounts","selectedExpansions","setSelectedExpansions","deckModalOpen","setDeckModalOpen","infoModalOpen","setInfoModalOpen","scrapeError","setScrapeError","isNumberedResults","setIsNumberedResults","expandOptions","setExpandOptions","textFormat","setTextFormat","filterForSpice","setFilterForSpice","filterForFave","setFilterForFave","rulesModalOpen","setRulesModalOpen","setCardOptions","showReprints","setShowReprints","rulesFromStorage","window","localStorage","getItem","setItem","stringify","generateCardCounts","counts","countRow","deckCount","sort","b","identifyArchetype","useCallback","combinedCards","mb","isMatch","cardSet","some","deckFitsRule","colorPresence","reduce","hasColor","colorString","colorPrefix","scrape","scrapedResults","namedResults","generatePlaintext","resultLines","path","date","txt","charAt","toUpperCase","join","generateMarkdownLine","muUrl","muPilot","highlights","muHighlights","Array","from","Set","generateMarkdown","muString","copyToClipboard","navigator","clipboard","writeText","deckHasCard","filterCards","applyDeckFilters","filterExpansions","expansions","flatMap","printings","deckHasExpansion","applyCardFilters","cards","p","filteredResults","filteredCardCounts","previewText","decksByCard","urls","panes","menuItem","pane","Tab","Pane","TextArea","height","Dimmer","inverted","Loader","columns","Message","success","rel","horizontal","disabled","multiple","s","Field","radio","negative","renderActiveOnly","refresh","Boolean","location","hostname","ReactDOM","render","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"qKAuFYA,EAaAC,E,yPChGCC,EAAe,uCAAG,WAAOC,GAAe,mFAC7CA,EAAQC,WAAW,wBAAwB,CAAD,yCAEfC,IAAM,sCAAD,OAAuCF,IAAW,KAAD,EAA/D,OAARG,EAAQ,gBACKA,EAASC,OAAO,KAAD,EAES,GAFrCC,EAAI,OACJC,EAAoB,IAAIC,OAAO,sCAC/BC,EAAQF,EAAkBG,KAAKJ,IAC3B,CAAD,gBAEe,OADdK,EAASC,KAAKC,MAAMJ,EAAM,GAAGK,MAAM,OAAO,GAAGA,MAAM,KAAK,IAC9DC,QAAQC,IAAIL,GAAQ,kBACbA,EAAOM,MAAMC,KAAI,SAACC,EAAGC,GACxB,IAAMC,EAAaF,EAAEG,KAAKC,MAAK,SAACC,GAAC,OAAMA,EAAEC,EAAE,IAAEC,WACvCC,EAAkBR,EAAEG,KAAKC,MAAK,SAACC,GAAC,OAAKA,EAAEC,EAAE,IAAEC,WAC3CJ,EAAa,CACfM,KAAMP,EAAWH,KAAI,SAACW,GAAC,MAAM,CACzBC,KAAMD,EAAEE,gBAAgBC,KACxBC,MAAOJ,EAAEK,SACTC,aAAa,EACbC,KAAMC,EAASR,EAAEE,gBAAgBC,MACpC,IACDM,UAAWX,EAAgBT,KAAI,SAACW,GAAC,MAAM,CACnCC,KAAMD,EAAEE,gBAAgBC,KACxBC,MAAOJ,EAAEK,SACTC,aAAa,EACbC,KAAMC,EAASR,EAAEE,gBAAgBC,MACpC,KAEL,MAAO,CACHO,MAAOpB,EAAEqB,OACTC,IAAI,GAAD,OAAKxC,EAAO,iBAASkB,EAAEqB,QAC1BE,UAAW,GACXC,MAAOvB,EACPwB,UAAU,EACVC,OAAO,EACPvB,OACAwB,gBAAgB,EAExB,KAAE,gCAGW,MAHX,0BAGN/B,QAAQC,IAAI,EAAD,IAAM,sCAIlB,IAAE,0DACZ,gBA7C2B,sCDiDf+B,EAAU,CACnB,CAAEC,KAAM,MAAOlB,KAAM,oBACrB,CAAEkB,KAAM,MAAOlB,KAAM,0BACrB,CAAEkB,KAAM,MAAOlB,KAAM,0BACrB,CAAEkB,KAAM,MAAOlB,KAAM,0BACrB,CAAEkB,KAAM,MAAOlB,KAAM,4BACrB,CAAEkB,KAAM,MAAOlB,KAAM,sCACrB,CAAEkB,KAAM,MAAOlB,KAAM,qBACrB,CAAEkB,KAAM,MAAOlB,KAAM,+BACrB,CAAEkB,KAAM,MAAOlB,KAAM,YACrB,CAAEkB,KAAM,MAAOlB,KAAM,mBACrB,CAAEkB,KAAM,MAAOlB,KAAM,iBACrB,CAAEkB,KAAM,MAAOlB,KAAM,6BACrB,CAAEkB,KAAM,MAAOlB,KAAM,uBACrB,CAAEkB,KAAM,MAAOlB,KAAM,sBACrB,CAAEkB,KAAM,MAAOlB,KAAM,iBACrB,CAAEkB,KAAM,MAAOlB,KAAM,mBACrB,CAAEkB,KAAM,MAAOlB,KAAM,sBA4BxB,SAXWhC,KAAQ,aAARA,EAAQ,WAARA,EAAQ,WAARA,EAAQ,WAARA,EAAQ,YAARA,EAAQ,YAARA,EAAQ,aAARA,EAAQ,WAARA,EAAQ,WAARA,EAAQ,cAWnB,CAXWA,MAAQ,KAwBnB,SAXWC,KAAQ,aAARA,EAAQ,aAARA,EAAQ,YAARA,EAAQ,YAARA,EAAQ,aAARA,EAAQ,WAARA,EAAQ,WAARA,EAAQ,YAARA,EAAQ,YAARA,EAAQ,WAWnB,CAXWA,MAAQ,K,iEE1FdkD,EAEF,CACAC,OAAGC,EACHC,EAAG,OACHC,EAAG,QACHC,EAAG,MACHC,EAAG,QACHC,EAAG,SACHC,EAAG,SAwGQC,EArG2B,SAACC,GACvC,IACIC,EACAC,EAFIC,EAA8BH,EAA9BG,KAAMC,EAAwBJ,EAAxBI,oBAGRC,EAAkC,GACxC,GAAIF,EAAK1B,KAAM,CAAC,IAAD,EACX,EAA6B0B,EAAK1B,KAA1B6B,EAAM,EAANA,OAAQC,EAAQ,EAARA,SAChB,OAAQD,EAAOE,QACX,KAAK,EACDP,EAAYX,EAAY,EACxB,MACJ,KAAK,EACDW,EAAYX,EAASgB,EAAO,IAC5B,MACJ,QACIL,EAAYX,EAAY,EAGhC,GAAuB,QAAvB,EAAIa,EAAK1B,KAAKgC,iBAAS,OAAnB,EAAqBH,OACrB,OAAQH,EAAK1B,KAAKgC,UAAUH,OAAOE,QAC/B,KAAK,EACDN,EAAiBZ,EAAY,EAC7B,MACJ,KAAK,EACDY,EAAiBZ,EAASgB,EAAO,IACjC,MACJ,QACIJ,EAAiBZ,EAAY,EAIzC,GAAIiB,EACsBA,EAASG,MAAM,EAAGH,EAASC,OAAS,GAAGrD,MAAM,MACrDwD,SAAQ,SAACC,EAAK5B,GACxBqB,EAAUQ,KACN,cAACC,EAAA,EAAKC,KAAI,CAAaC,MAAO,CAAEC,WAAY,EAAGC,WAAY,GAAKC,QAAS,cAAC,IAAI,CAACC,OAAQR,EAAIS,QAAQ,IAAK,IAAIC,cAAeC,QAAM,KAAjHvC,GAExB,GAER,CAEA,OACI,cAAC8B,EAAA,EAAKC,KAAI,CAAiBS,QAAS,kBAAMpB,EAAoBD,EAAK,EAAEsB,UAAWtB,EAAK3B,YAAc,YAAc,GAAG,SAChH,cAACkD,EAAA,EAAK,CACFC,QACI,8BACKxB,EAAK7B,MAAK,IAAG6B,EAAKhC,QAE1B,SAED,cAACuD,EAAA,EAAME,QAAO,UACTzB,EAAK1B,MACF,qCACI,eAAC,IAAY,CAACoD,MAAO5B,EAAU,UAC3B,eAAC,IAAa2B,QAAO,WACjB,cAAC,IAAaE,OAAM,UAAE3B,EAAKhC,OAC3B,cAAC,IAAa4D,KAAI,UAAE5B,EAAK1B,KAAKuD,OAC9B,cAAC,IAAaC,YAAW,CAACjB,MAAO,CAAEkB,WAAY,YAAa,SAAE/B,EAAK1B,KAAK/B,WAE1EyD,EAAK1B,KAAK0D,OAAShC,EAAK1B,KAAK2D,YAC3B,cAAC,IAAaR,QAAO,CAACS,OAAK,EAACrB,MAAO,CAAEsB,QAAS,aAAc,SACxD,sBACItB,MAAO,CACHuB,MAAO,QACPC,WAAY,QACd,UAEDrC,EAAK1B,KAAK0D,MAAK,IAAGhC,EAAK1B,KAAK2D,kBAK5CjC,EAAK1B,KAAKgC,WACP,eAAC,IAAY,CAACoB,MAAO3B,EAAe,UAChC,eAAC,IAAa0B,QAAO,WACjB,cAAC,IAAaE,OAAM,UAAE3B,EAAK1B,KAAKgC,UAAUgC,WAC1C,cAAC,IAAaV,KAAI,UAAE5B,EAAK1B,KAAKgC,UAAUuB,OACxC,cAAC,IAAaC,YAAW,CAACjB,MAAO,CAAEkB,WAAY,YAAa,SAAE/B,EAAK1B,KAAKgC,UAAU/D,WAEpFyD,EAAK1B,KAAKgC,UAAU0B,OAAShC,EAAK1B,KAAKgC,UAAU2B,YAC/C,cAAC,IAAaR,QAAO,CAACS,OAAK,EAACrB,MAAO,CAAEsB,QAAS,aAAc,SACxD,sBACItB,MAAO,CACHuB,MAAO,QACPC,WAAY,QACd,UAEDrC,EAAK1B,KAAK0D,MAAK,IAAGhC,EAAK1B,KAAK2D,0BA7CrDjC,EAAKhC,KAyD7B,EC5GMuE,EAAc,CAAC,QAAS,OAAQ,QAAS,MAAO,QAAS,aAEzDC,EAAa,CAAC,WAAY,cAAe,QAEzCC,EAAc,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAEtEC,EAAa,CAAC,UAAW,UAAW,WAoO3BC,EAlO2B,SAAC9C,GACvC,IAAQ+C,EAAuB/C,EAAvB+C,OAAQC,EAAehD,EAAfgD,WAChB,EAAoCC,mBAAmB,IAAG,mBAAnDC,EAAU,KAAEC,EAAa,KAChC,EAAkCF,mBAAmB,IAAG,mBAAjDG,EAAS,KAAEC,EAAY,KAE9BC,qBAAU,WACN,GAAKP,EAAL,CACA,IAAKQ,EAAmD,EAA3CC,EAA8C,EAAtCC,EAAyC,EAAjCC,EAAoC,EAA5BC,EAA+B,EAAvBC,EAA0B,EAClEC,EAAmC,EAAxBC,EAA2B,EAAbC,EAAgB,EAE9ChB,EAAOpF,KAAKM,KAAK0C,SAAQ,SAACR,GACtB,GAAIA,EAAK1B,KAAM,CACX,MAA0B0B,EAAK1B,KAAvB6B,EAAM,EAANA,OAAQ0D,EAAK,EAALA,MACZ1D,EAAO2D,SAAS,OAAMV,GAAUpD,EAAK7B,OACrCgC,EAAO2D,SAAS,OAAMT,GAAUrD,EAAK7B,OACrCgC,EAAO2D,SAAS,OAAMR,GAAUtD,EAAK7B,OACrCgC,EAAO2D,SAAS,OAAMP,GAAUvD,EAAK7B,OACrCgC,EAAO2D,SAAS,OAAMN,GAAUxD,EAAK7B,OACpCgC,EAAOE,QAAWL,EAAK1B,KAAKuF,MAAMC,SAAS,UAASL,GAAUzD,EAAK7B,OAEpE0F,EAAMC,SAAS,YAAaJ,GAAa1D,EAAK7B,MACzC0F,EAAMC,SAAS,QAASF,GAAS5D,EAAK7B,MAC1CwF,GAAgB3D,EAAK7B,KAC9B,CACJ,IACA6E,EAAc,CAACI,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,IACvDP,EAAa,CAACQ,EAAWC,EAAcC,GApBpB,CAqBvB,GAAG,CAAChB,IAEJ,IAAM3C,EAAsB,SAACD,GACzB,IAAQxC,EAASoF,EAATpF,KACRA,EAAKM,KAAK0C,SAAQ,SAACzC,GACXA,EAAEC,OAASgC,EAAKhC,OAChBD,EAAEM,aAAeN,EAAEM,YAE3B,IACAb,EAAKgB,UAAUgC,SAAQ,SAACzC,GAChBA,EAAEC,OAASgC,EAAKhC,OAChBD,EAAEM,aAAeN,EAAEM,YAE3B,IACAwE,EAAW,2BAAKD,GAAM,IAAEpF,SAC5B,EAUMM,EAAgD,CAClDiG,cAAe,GACfC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,UAAW,GACXC,aAAc,GACdC,MAAO,GACPC,QAAS,IAGb1B,EAAOpF,KAAKM,KAAK0C,SAAQ,SAACR,GACjBA,EAAK1B,KAEC0B,EAAK1B,KAAKuF,MAAMC,SAAS,YAChChG,EAAKkG,UAAUtD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACjCgC,EAAK1B,KAAKuF,MAAMC,SAAS,QAChChG,EAAKuG,MAAM3D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAC7BgC,EAAK1B,KAAKuF,MAAMC,SAAS,WAChChG,EAAKmG,SAASvD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAChCgC,EAAK1B,KAAKuF,MAAMC,SAAS,WAChChG,EAAKoG,UAAUxD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACjCgC,EAAK1B,KAAKuF,MAAMC,SAAS,cAAgB9D,EAAK1B,KAAKuF,MAAMC,SAAS,YACzEhG,EAAKqG,UAAUzD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACjCgC,EAAK1B,KAAKuF,MAAMC,SAAS,iBAAmB9D,EAAK1B,KAAKuF,MAAMC,SAAS,YAC5EhG,EAAKsG,aAAa1D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACpCgC,EAAK1B,KAAKuF,MAAMC,SAAS,iBAChChG,EAAKiG,cAAcrD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAd5CF,EAAKwG,QAAQ5D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,MAgB9C,IAEA,IAAMuG,EAAgD,CAClDC,UAAW,GACXT,cAAe,GACfC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,UAAW,GACXC,aAAc,GACdC,MAAO,GACPC,QAAS,IA2Bb,OAxBA1B,EAAOpF,KAAKgB,UAAUgC,SAAQ,SAACR,GACtBA,EAAK1B,KAEC0B,EAAK1B,KAAKuF,MAAMC,SAAS,YAC5B9D,EAAK1B,KAAK/B,MAAQyD,EAAK1B,KAAK/B,KAAKuH,SAAS,oBAC1CS,EAAKC,UAAU9D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAExCuG,EAAKP,UAAUtD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAErCgC,EAAK1B,KAAKuF,MAAMC,SAAS,QAChCS,EAAKF,MAAM3D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAC7BgC,EAAK1B,KAAKuF,MAAMC,SAAS,WAChCS,EAAKN,SAASvD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAChCgC,EAAK1B,KAAKuF,MAAMC,SAAS,WAChCS,EAAKL,UAAUxD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACjCgC,EAAK1B,KAAKuF,MAAMC,SAAS,cAAgB9D,EAAK1B,KAAKuF,MAAMC,SAAS,YACzES,EAAKJ,UAAUzD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACjCgC,EAAK1B,KAAKuF,MAAMC,SAAS,iBAAmB9D,EAAK1B,KAAKuF,MAAMC,SAAS,YAC5ES,EAAKH,aAAa1D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OACpCgC,EAAK1B,KAAKuF,MAAMC,SAAS,iBAChCS,EAAKR,cAAcrD,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,OAlB5CuG,EAAKD,QAAQ5D,KAAK,cAAC,EAAQ,CAAiBV,KAAMA,EAAMC,oBAAqBA,GAA5CD,EAAKhC,MAoB9C,IAGI,eAACyG,EAAA,EAAI,CAACC,MAAO,GAAIpD,UAAU,WAAWqD,QAAM,YACxC,eAACF,EAAA,EAAKG,IAAG,WACL,cAACH,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,eAAC/C,EAAA,EAAM,CAACd,MAAO,CAAEiE,aAAc,GAAI,UAC9BlC,EAAOhE,UAAS,UAAMgE,EAAOhE,UAAS,OAAQ,GAC9CgE,EAAOnE,WAGhB,eAACgG,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAGK,UAAW,QAAQ,UACtC,cAACC,EAAA,EAAI,CAAChH,KAAK,QAAQiH,KAAK,MAAMvD,MAAOkB,EAAO9D,SAAW,OAAS,OAAQwC,UAAU,YAAYD,QAjFvF,WACnBwB,EAAW,2BAAKD,GAAM,IAAE9D,UAAW8D,EAAO9D,WAC9C,IA+E0I,IAC1H,cAACkG,EAAA,EAAI,CAAChH,KAAK,SAASiH,KAAK,MAAMvD,MAAOkB,EAAO7D,MAAQ,SAAW,OAAQuC,UAAU,YAAYD,QAtF1F,WAChBwB,EAAW,2BAAKD,GAAM,IAAE7D,OAAQ6D,EAAO7D,QAC3C,UAuFQ,eAAC0F,EAAA,EAAKG,IAAG,WACL,eAACH,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,UAClB,cAAC/C,EAAA,EAAM,CAACX,QAAQ,OAAOH,MAAO,CAAEiE,aAAc,KAC9C,cAACnE,EAAA,EAAI,CAACE,MAAO,CAAEqE,UAAW,GAAI,SAC1B,cAACvE,EAAA,EAAKC,KAAI,UACLuE,OAAOC,KAAKtH,GACRuH,QAAO,SAACC,GAAG,OAAKxH,EAAKwH,GAAKjF,MAAM,IAChCjD,KAAI,SAACkI,GACF,OACI,eAAC3E,EAAA,EAAKA,KAAI,WACN,cAACA,EAAA,EAAKgB,OAAM,CAACX,QAASsE,IACrBxH,EAAKwH,KAFMA,EAKxB,WAIhB,eAACb,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,UAClB,cAAC/C,EAAA,EAAM,CAACX,QAAQ,YAAYH,MAAO,CAAEiE,aAAc,KACnD,cAACnE,EAAA,EAAI,CAACE,MAAO,CAAEqE,UAAW,GAAI,SAC1B,cAACvE,EAAA,EAAKC,KAAI,UACLuE,OAAOC,KAAKb,GACRc,QAAO,SAACC,GAAG,OAAKf,EAAKe,GAAKjF,MAAM,IAChCjD,KAAI,SAACkI,GACF,OACI,eAAC3E,EAAA,EAAKA,KAAI,WACN,eAACA,EAAA,EAAKgB,OAAM,WACC,cAAR2D,GAAuB,cAACN,EAAA,EAAI,CAAChH,KAAK,QAClCsH,EACQ,cAARA,GAAuB,cAACN,EAAA,EAAI,CAAChH,KAAK,WAEtCuG,EAAKe,KANMA,EASxB,WAIhB,eAACb,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,UAClB,cAACa,EAAA,EAAS,CAAC1E,MAAO,CAAEiE,aAAc,QAAS,SACvC,cAAC,WAAQ,CACLU,KAAM,CACFC,OAAQlD,EACRmD,SAAU,CACN,CACIC,gBAAiBlD,EACjB+C,KAAMzC,KAIlB6C,QAAS,CACLC,MAAO,CACHC,SAAS,EACTvJ,KAAM,sBAEVwJ,OAAQ,CAAED,SAAS,QAI/B,cAACP,EAAA,EAAS,UACN,cAAC,WAAQ,CACLC,KAAM,CACFC,OAAQjD,EACRkD,SAAU,CACN,CACIC,gBAAiBjD,EACjB8C,KAAMvC,EACN+C,MAAO,KAEX,CACIL,gBAAiBjD,EAAWnC,MAAM,EAAG,GACrCiF,KAAMvC,EAAU1C,MAAM,EAAG,GACzByF,MAAO,OAInBJ,QAAS,CACLC,MAAO,CACHC,SAAS,EACTvJ,KAAM,qBAEVwJ,OAAQ,CAAED,SAAS,EAAMG,SAAU,UACnCC,iBAAkB,gBAQlD,EC5HeC,EA3GyC,SAACtG,GACrD,IAAQuG,EAAuCvG,EAAvCuG,QAASC,EAA8BxG,EAA9BwG,WAAYC,EAAkBzG,EAAlByG,KAAMC,EAAY1G,EAAZ0G,QACnC,EAAoDzD,mBAAiB,GAAE,mBAAhE0D,EAAkB,KAAEC,EAAqB,KAC1CC,EAAcN,EAAQ/F,OAEtBsG,EAAe,WACjB,GAAKC,EAAL,CACA,IAAM/H,EAAQ2H,GAAsB,EAE9BK,EAAG,YAAOT,GAChBS,EAAIhI,GAAS+H,EACbP,EAAWQ,GAEPhI,EAAQ,EAAIuH,EAAQ/F,OACpBoG,EAAsB5H,EAAQ,GAE9B0H,GAVsB,CAY9B,EAiBMO,EAAsB,SAAClE,GACzB,IAAMiE,EAAG,YAAOT,GAChBS,EAAIL,GAAsB5D,EAC1ByD,EAAWQ,EACf,EAYMD,EAAgBR,EAAQI,GAC9B,OACI,cAACO,EAAA,EAAK,CAACT,KAAMA,EAAMC,QAASA,EAAS1F,MAAO,CAAEmG,IAAK,MAAOC,KAAM,sBAAwBC,oBAAoB,EAAOC,WAAS,WACxH,cAACJ,EAAA,EAAMtF,QAAO,YACPmF,GACC,eAACnC,EAAA,EAAI,CAACC,MAAO,GAAG,UACZ,eAACD,EAAA,EAAKG,IAAG,CAACtD,UAAU,kBAAkB8F,cAAc,SAAQ,UACxD,eAAC3C,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,UAClB,oBAAI7D,MAAO,CAAEiE,aAAc,UAAW,SAAE8B,EAAcnI,QACtD,yCACUmI,EAAc/H,MAAQ,EAAC,OAAM6H,QAG3C,cAACjC,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAAC2C,EAAA,EAAK,CAACrB,MAAM,YAAYsB,MAAOV,EAAchI,UAAW2I,SAxB1D,SAACC,EAAgBhC,GACxC,IAAQ8B,EAAU9B,EAAV8B,MACRR,EAAoB,2BAAKV,EAAQI,IAAmB,IAAE5H,UAAW0I,IACrE,EAqBmHG,WAnB5F,SAACD,GACN,UAAVA,EAAElC,KACFqB,GAER,MAiBwB,eAAClC,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,UAClB,cAACgD,EAAA,EAAQ,CACLC,QAASf,EAAc9H,SACvBkH,MAAM,YACNuB,SAAU,kBACNT,EAAoB,2BACbF,GAAa,IAChB9H,UAAW8H,EAAc9H,WAC3B,IAGV,cAAC4I,EAAA,EAAQ,CACLC,QAASf,EAAc7H,MACvBiH,MAAM,SACNuB,SAAU,kBACNT,EAAoB,2BACbF,GAAa,IAChB7H,OAAQ6H,EAAc7H,QACxB,OAId,cAAC0F,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAACkD,EAAA,EAAM,CAACvG,QAtEX,WACrB,GAAKuF,EAAL,CACA,IAAM/H,EAAQ2H,GAAsB,EAE9BK,EAAG,YAAOT,GAChBS,EAAIhI,GAAS+H,EACbP,EAAWQ,GAEG,IAAVhI,EACA4H,EAAsB5H,EAAQ,GAE9B0H,GAVsB,CAY9B,EAyD+DvF,QAAQ,eAE/C,cAACyD,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAACkD,EAAA,EAAM,CAACvG,QAASsF,EAAc3F,QAAQ,cAI/C,cAACyD,EAAA,EAAKG,IAAG,UACL,cAAC,EAAQ,CAAChC,OAAQgE,EAAe/D,WAAYiE,YAOzE,E,SClDee,EA3D6B,SAAChI,GACzC,IAAQyG,EAAkBzG,EAAlByG,KAAMC,EAAY1G,EAAZ0G,QAEd,OACI,cAACQ,EAAA,EAAK,CAACT,KAAMA,EAAMwB,UAAU,EAAOvB,QAASA,EAASW,oBAAoB,EAAMC,WAAS,WACrF,cAACJ,EAAA,EAAMtF,QAAO,UACV,eAACd,EAAA,EAAI,WACD,eAACA,EAAA,EAAKC,KAAI,WACN,cAACD,EAAA,EAAKgB,OAAM,oCACZ,cAAC4D,EAAA,EAAS,CAAC1E,MAAO,CAAEsB,QAAS,uBAAwB,kLAKzD,eAACxB,EAAA,EAAKC,KAAI,WACN,cAACD,EAAA,EAAKgB,OAAM,+BACZ,cAAC4D,EAAA,EAAS,CAAC1E,MAAO,CAAEkH,YAAa,OAAQ,SACrC,eAACpH,EAAA,EAAI,CAACqH,SAAO,YACT,cAACC,EAAA,EAAQ,uFACT,cAACA,EAAA,EAAQ,qIAGT,cAACA,EAAA,EAAQ,oIAIT,cAACA,EAAA,EAAQ,oIAMrB,eAACtH,EAAA,EAAKC,KAAI,WACN,cAACD,EAAA,EAAKgB,OAAM,4DACZ,cAAC4D,EAAA,EAAS,CAAC1E,MAAO,CAAEsB,QAAS,uBAAwB,mhBAOrD,cAACoD,EAAA,EAAS,CAAC1E,MAAO,CAAEsB,QAAS,uBAAwB,8RAMzD,eAACxB,EAAA,EAAKC,KAAI,WACN,cAACD,EAAA,EAAKgB,OAAM,2DACZ,eAAC4D,EAAA,EAAS,CAAC1E,MAAO,CAAEsB,QAAS,iBAAkB,mCACrB,mBAAG+F,KAAK,wDAAuD,2CAOjH,ECiCeC,EAtF2B,SAACtI,GACvC,IAAQuI,EAAqDvI,EAArDuI,KAAMvJ,EAA+CgB,EAA/ChB,MAAOwJ,EAAwCxI,EAAxCwI,WAAYC,EAA4BzI,EAA5ByI,WAAYC,EAAgB1I,EAAhB0I,YAE7C,OACI,qCACI,cAAC9D,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SACjB0D,EAAKI,SACF,eAACjD,EAAA,EAAS,uBAEN,uBACA,wBAAQ1E,MAAO,CAAEiF,QAAS,QAASZ,UAAW,SAAU,SAAEkD,EAAKI,cAGnE,cAACC,EAAA,EAAKC,SAAQ,CACV1C,MAAM,YACN2C,WAAS,EACTC,QAAM,EACNC,UAAQ,EACRC,cAAe,EACfxB,MAAOc,EAAKI,SACZ5C,QAAS2C,EACThB,SAAU,SAACwB,EAAG,GAAgB,IAAbzB,EAAK,EAALA,MACbe,EAAW,2BAAKD,GAAI,IAAEI,SAAUlB,IAAmBzI,EACvD,MAIZ,cAAC4F,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAAC+D,EAAA,EAAKC,SAAQ,CACV1C,MAAM,WACNgD,OAAK,EACLL,WAAS,EACTM,WAAS,EACT3B,MAAOc,EAAKc,QACZtD,QAAS,CACL,CAAEN,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,IAE9BC,SAAU,SAACwB,EAAG,GAAD,IAAIzB,EAAK,EAALA,MAAK,OAAOe,EAAW,2BAAKD,GAAI,IAAEc,QAAmB,KAAV5B,EAAgBA,OAAmBjI,IAAaR,EAAM,MAG1H,cAAC4F,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAAC+D,EAAA,EAAKC,SAAQ,CACV1C,MAAM,UACNgD,OAAK,EACLL,WAAS,EACTM,WAAS,EACT3B,MAAOc,EAAKe,OACZvD,QAAS,CACL,CAAEN,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,GAC1B,CAAEhC,IAAK,EAAG/I,KAAM,EAAG+K,MAAO,IAE9BC,SAAU,SAACwB,EAAG,GAAD,IAAIzB,EAAK,EAALA,MAAK,OAAOe,EAAW,2BAAKD,GAAI,IAAEe,OAAkB,KAAV7B,EAAgBA,OAAmBjI,IAAaR,EAAM,MAGzH,cAAC4F,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAAC+D,EAAA,EAAKC,SAAQ,CACV1C,MAAM,KACNgD,OAAK,EACLL,WAAS,EACTrB,MAAOc,EAAKgB,GACZxD,QAAS,CACL,CAAEN,IAAK,EAAG/I,KAAM,OAAQ+K,MAAO,QAC/B,CAAEhC,IAAK,EAAG/I,KAAM,YAAa+K,MAAO,QACpC,CAAEhC,IAAK,EAAG/I,KAAM,SAAU+K,MAAO,SAErCC,SAAU,SAACwB,EAAG,GAAD,IAAIzB,EAAK,EAALA,MAAK,OAAOe,EAAW,2BAAKD,GAAI,IAAEgB,GAAI9B,IAAqCzI,EAAM,MAG1G,cAAC4F,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAGK,UAAU,QAAO,SACpC,cAAC6C,EAAA,EAAM,CACH/G,MAAO,CAAEqE,UAAW,SACpBmE,KAAK,QACLhI,QAAS,WACLiH,EAAWzJ,EACf,QAKpB,ECzBeyK,EA5DqC,SAACzJ,GACjD,IAAQjB,EAA4CiB,EAA5CjB,UAAW2K,EAAiC1J,EAAjC0J,gBAAiBhB,EAAgB1I,EAAhB0I,YAE9BF,EAAa,SAACD,EAAYvJ,GAC5B,IAAM2K,EAAQ,YAAO5K,EAAU6K,OAC/BD,EAAS3K,GAASuJ,EAClBmB,EAAgB,2BAAK3K,GAAS,IAAE6K,MAAOD,IAC3C,EAOMlB,EAAa,SAACzJ,GAChB,IAAM2K,EAAQ,YAAO5K,EAAU6K,OAC/BD,EAASE,OAAO7K,EAAO,GACvB0K,EAAgB,2BAAK3K,GAAS,IAAE6K,MAAOD,IAC3C,EAEA,OACI,eAAC/E,EAAA,EAAI,CAACkF,QAAQ,aAAY,UACtB,eAAClF,EAAA,EAAKG,IAAG,CAACwC,cAAc,SAAQ,UAC5B,cAAC3C,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAAC2C,EAAA,EAAK,CACFC,MAAO1I,EAAUZ,KACjB4L,YAAY,iBACZrC,SAAU,SAACC,GACP+B,EAAgB,2BAAK3K,GAAS,IAAEZ,KAAMwJ,EAAEqC,OAAOvC,QACnD,MAGR,cAAC7C,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAE,SAClB,cAACgD,EAAA,EAAQ,CACLoC,QAAM,EACN9D,MAAM,oBACN2B,QAAS/I,EAAUmL,aACnBxC,SAAU,SAACC,EAAE,GAAkB,IAAfG,EAAO,EAAPA,QACZ4B,EAAgB,2BAAK3K,GAAS,IAAEmL,aAAcpC,IAClD,SAKX/I,EAAU6K,MAAMrM,KAAI,SAAC4M,EAAG1M,GACrB,OACI,cAACmH,EAAA,EAAKG,IAAG,UACL,cAAC,EAAQ,CAACwD,KAAM4B,EAAGnL,MAAOvB,EAAG+K,WAAYA,EAAYC,WAAYA,EAAYC,YAAaA,KAD/EyB,EAAExB,SAIzB,IACA,cAAC/D,EAAA,EAAKG,IAAG,UACL,cAACH,EAAA,EAAKI,OAAM,UACR,cAAC+C,EAAA,EAAM,CAACyB,KAAK,OAAOrI,QAAQ,gBAAgBK,QA5C5C,WACZ,IAAMmI,EAAQ,sBAAO5K,EAAU6K,OAAK,CAAE,CAAEjB,SAAU,GAAIY,GAAI,UAC1DG,EAAgB,2BAAK3K,GAAS,IAAE6K,MAAOD,IAC3C,UA8CJ,ECxDMjB,EAAcpD,OAAOC,KAAK7G,GAAUnB,KAAI,SAAC4C,GAAI,MAAM,CAAEsF,IAAKtF,EAAMzD,KAAMyD,EAAMsH,MAAOtH,EAAM,IAsDhFiK,EApD+B,SAACpK,GAC3C,IAAQyG,EAAqDzG,EAArDyG,KAAMC,EAA+C1G,EAA/C0G,QAAS2D,EAAsCrK,EAAtCqK,eAAgBC,EAAsBtK,EAAtBsK,kBACvC,EAAsCrH,mBAAiB,GAAE,mBAAlDsH,EAAW,KAAEC,EAAc,KAE5Bd,EAAkB,SAAC3K,GACrB,IAAM0L,EAAa,YAAOJ,GAE1BI,EADcJ,EAAeK,WAAU,SAACC,GAAC,OAAKA,EAAEC,KAAO7L,EAAU6L,EAAE,KAC5C7L,EACvBuL,EAAkBG,EACtB,EAOA,OACI,eAACvD,EAAA,EAAK,CAACT,KAAMA,EAAMC,QAAO,8GAAE,kBAAMA,GAAQ,EAAM,IAAEY,WAAS,EAACtG,MAAO,CAAEmG,IAAK,MAAOC,KAAM,sBAAuB,UAC1G,cAACF,EAAA,EAAMpF,OAAM,yFACb,cAACoF,EAAA,EAAMtF,QAAO,UACV,cAACiJ,EAAA,EAAS,UACLR,EAAe9M,KAAI,SAACwB,EAAWtB,GAC5B,OACI,qCACI,eAACoN,EAAA,EAAUC,MAAK,CAEZC,OAAQR,IAAgB9M,EACxBuB,MAAOvB,EACP+D,QAAS,WACLgJ,EAAeD,IAAgB9M,EAAIA,GAAK,EAC5C,EAAE,UAEF,cAAC0H,EAAA,EAAI,CAAChH,KAAK,aACX,+BAAOY,EAAUZ,OACjB,qBAAKsD,UAAU,2BAAyB,UAThC1C,EAAU6L,GAAE,WAWxB,cAACC,EAAA,EAAUjJ,QAAO,CAAiCmJ,OAAQR,IAAgB9M,EAAE,SACzE,cAAC,EAAa,CAACsB,UAAWA,EAAW2K,gBAAiBA,EAAiBhB,YAAaA,KAAe,UAD5E3J,EAAU6L,GAAE,eAKnD,QAGR,eAAC1D,EAAA,EAAM8D,QAAO,WACV,cAACjD,EAAA,EAAM,CAACyB,KAAK,OAAOrI,QAAQ,kCAAkC8J,QAAQ,OAAOzJ,QAAS,kBAjC9F8I,EAAkB,GAAD,mBAAKD,GAAc,CAAE,CAAEO,GAAIP,EAAe7J,OAAS,EAAGrC,KAAM,GAAIyL,MAAO,YACxFY,EAAeH,EAAe7J,OAgCoF,IAC1G,cAACuH,EAAA,EAAM,CAAClG,MAAM,OAAOV,QAAQ,iBAAiBK,QAAS,kBAAMkF,GAAQ,EAAK,SAI1F,ECkeewE,GAxhBO,WAClB,MAAoCjI,oBAAkB,GAAM,mBAArDkI,EAAU,KAAEC,EAAa,KAChC,EAA8BnI,mBAAiB,IAAG,mBAA3C3G,EAAO,KAAE+O,EAAU,KAC1B,EAAkCpI,oBAAkB,GAAM,mBAAnDqI,EAAS,KAAEC,EAAY,KAC9B,EAAoCtI,mBAAmB,IAAG,mBAAnDuI,EAAU,KAAEC,EAAa,KAChC,EAA0CxI,mBAAmB,IAAG,mBAAzDyI,EAAa,KAAEC,EAAgB,KACtC,EAAoC1I,mBAAsB,IAAG,mBAAtD2I,EAAU,KAAEC,EAAa,KAChC,EAAoD5I,mBAAmB,IAAG,mBAAnE6I,EAAkB,KAAEC,GAAqB,KAChD,GAA0C9I,oBAAkB,GAAM,qBAA3D+I,GAAa,MAAEC,GAAgB,MACtC,GAA0ChJ,oBAAkB,GAAM,qBAA3DiJ,GAAa,MAAEC,GAAgB,MACtC,GAAsClJ,oBAAkB,GAAM,qBAAvDmJ,GAAW,MAAEC,GAAc,MAClC,GAAkDpJ,oBAAkB,GAAM,qBAAnEqJ,GAAiB,MAAEC,GAAoB,MAC9C,GAA0CtJ,oBAAkB,GAAM,qBAA3DuJ,GAAa,MAAEC,GAAgB,MACtC,GAAoCxJ,mBAAqB,YAAW,qBAA7DyJ,GAAU,MAAEC,GAAa,MAChC,GAA4C1J,oBAAkB,GAAM,qBAA7D2J,GAAc,MAAEC,GAAiB,MACxC,GAA0C5J,oBAAkB,GAAM,qBAA3D6J,GAAa,MAAEC,GAAgB,MACtC,GAA4C9J,oBAAkB,GAAM,qBAA7D+J,GAAc,MAAEC,GAAiB,MACxC,GAAsChK,mBAA8B,IAAG,qBAAhEyF,GAAW,MAAEwE,GAAc,MAClC,GAAwCjK,oBAAkB,GAAK,qBAAxDkK,GAAY,MAAEC,GAAe,MAEpC,GAA4CnK,mBAAsB,IAAG,qBAA9DoH,GAAc,MAAEC,GAAiB,MAExChH,qBAAU,WAAO,IAAD,EACN+J,EAAsC,QAAtB,EAAGC,OAAOC,oBAAY,aAAnB,EAAqBC,QAAQ,kBAClDH,GAAyC,cAArBA,GACpB/C,GAAkBrN,KAAKC,MAAMmQ,GAErC,GAAG,IAEH/J,qBAAU,WAAO,IAAD,EACO,QAAnB,EAAAgK,OAAOC,oBAAY,OAAnB,EAAqBE,QAAQ,iBAAkBxQ,KAAKyQ,UAAUrD,IAClE,GAAG,CAACA,KAGJ,IAAMsD,GAAqB,SAACpH,GACxB,IAAMqH,EAAsB,GAC5BrH,EAAQ5F,SAAQ,SAACwJ,GACbA,EAAExM,KAAKM,KAAK0C,SAAQ,SAACR,GACjB,IAAM0N,EAAWD,EAAOhQ,MAAK,SAACM,GAAC,OAAKA,EAAEiC,KAAKhC,OAASgC,EAAKhC,IAAI,IACxD0P,GAMDA,EAAS1N,KAAK7B,OAAS6B,EAAK7B,MAC5BuP,EAASC,aANTF,EAAO/M,KAAK,CACRV,KAAK,2BAAMA,GAAI,IAAE3B,aAAa,IAC9BsP,UAAW,GAMvB,IAEA3D,EAAExM,KAAKgB,UAAUgC,SAAQ,SAACR,GACtB,IAAM0N,EAAWD,EAAOhQ,MAAK,SAACM,GAAC,OAAKA,EAAEiC,KAAKhC,OAASgC,EAAKhC,IAAI,IACxD0P,GAMDA,EAAS1N,KAAK7B,OAAS6B,EAAK7B,MACvB6L,EAAExM,KAAKM,KAAKL,MAAK,SAACM,GAAC,OAAKA,EAAEC,OAASgC,EAAKhC,IAAI,KAC7C0P,EAASC,aAPbF,EAAO/M,KAAK,CACRV,KAAK,2BAAMA,GAAI,IAAE3B,aAAa,IAC9BsP,UAAW,GAQvB,GACJ,IAEAZ,GACIU,EACKG,MAAK,SAACpD,EAAGqD,GACN,OAAIrD,EAAExK,KAAKhC,KAAO6P,EAAE7N,KAAKhC,MAAc,EACnC6P,EAAE7N,KAAKhC,KAAOwM,EAAExK,KAAKhC,KAAa,EAC/B,CACX,IACCZ,KAAI,SAACW,GAAC,MAAM,CACTuH,IAAKvH,EAAEiC,KAAKhC,KACZzB,KAAMwB,EAAEiC,KAAKhC,KACbsJ,MAAOvJ,EAAEiC,KAAKhC,KACjB,KAET0N,EAAc+B,EAClB,EAUMK,GAAoBC,uBACtB,SAACnL,GACG,IAAQpF,EAASoF,EAATpF,KAEFwQ,EAAgBxQ,EAAKM,KAAKV,KAAI,SAACW,GAAC,sBAAWA,EAAC,IAClDP,EAAKgB,UAAUgC,SAAQ,SAACR,GACpB,IAAMiO,EAAKD,EAAcvQ,MAAK,SAACM,GAAC,OAAKA,EAAEC,OAASgC,EAAKhC,IAAI,IACpDiQ,EAGDA,EAAG9P,OAAS6B,EAAK7B,MAFjB6P,EAActN,KAAKV,EAI3B,IAAG,IAC2B,EAD3B,cACakK,IAAc,yBAAnBM,EAAC,QACAxM,EAAgBwM,EAAhBxM,KAAMyL,EAAUe,EAAVf,MACVyE,GAAU,EAsBd,GArBAzE,EAAMjJ,SAAQ,SAACwJ,GACX,GAAIkE,EAAS,CAET,IAAIC,EAAkB,GACtB,OAAQnE,EAAEZ,IACN,IAAK,OACD+E,EAAU3Q,EAAKM,KACf,MACJ,IAAK,OACDqQ,EAAU3Q,EAAKgB,UACf,MACJ,IAAK,OACD2P,EAAUH,EAMlBE,EA1CC,SAAC1Q,EAAc4K,GAChC,IAAQI,EAA8BJ,EAA9BI,SAAUW,EAAoBf,EAApBe,OAAQD,EAAYd,EAAZc,QAC1B,OACgB,IAAXC,IAAiB3L,EAAK4Q,MAAK,SAACrQ,GAAC,OAAKA,EAAEC,OAASwK,CAAQ,KACtDhL,EAAK4Q,MAAK,SAACrQ,GAAC,OAAKA,EAAEC,OAASwK,KAAcU,GAAWnL,EAAEI,OAAS+K,MAAcC,GAAUpL,EAAEI,OAASgL,EAAO,GAElH,CAoC8BkF,CAAaF,EAASnE,EACpC,CACJ,IACIkE,EAAS,CACT,GAAI1D,EAAET,aAAc,CAChB,IAAMuE,EAAgBN,EAAcO,QAChC,SAACC,EAAUxO,GAAU,IAAD,EAMhB,OALS,QAAT,EAAAA,EAAK1B,YAAI,OAAT,EAAW6B,OAAOK,SAAQ,SAACkB,GAAW,IAAD,IACnB,QAAV,EAAC1B,EAAK1B,YAAI,OAAU,QAAV,EAAT,EAAW8B,gBAAQ,OAAnB,EAAqB0D,SAAS,OAC/B0K,EAAS9M,IAAS,EAE1B,IACO8M,CACX,GACA,CAAEpP,GAAG,EAAOE,GAAG,EAAOC,GAAG,EAAOC,GAAG,EAAOC,GAAG,IAE3CgP,EAAW,UAAMH,EAAchP,EAAI,IAAM,IAAE,OAAGgP,EAAc/O,EAAI,IAAM,IAAE,OAAG+O,EAAc9O,EAAI,IAAM,IAAE,OACvG8O,EAAc7O,EAAI,IAAM,IAAE,OAC3B6O,EAAclP,EAAI,IAAM,IACvBsP,EAAc,GAGlB,OAAQD,EAAYpO,QAChB,KAAK,EACDqO,EAAW,eAAWD,GACtB,MACJ,KAAK,EAML,KAAK,EACDC,EAAcD,EACd,MALJ,KAAK,EACDC,EAA8BzS,EAASwS,GACvC,MAIJ,KAAK,EACDC,EAAc,KAGtB9L,EAAOhE,UAAS,UAAM8P,EAAW,YAAI1Q,EACzC,MACI4E,EAAOhE,UAAYZ,EAEvB,aACJ,CAAC,EAjEL,2BAAgC,kBAgExB,KAER,CAAC,+BACD,OAAO4E,CACX,GACA,CAACsH,KAGCyE,GAAM,uCAAG,8BAAAnE,EAAA,kEAEFrO,EAAQ,CAAD,gDACO,OAAnBiP,GAAa,GAAM,SACUlP,EAAgBC,GAAS,KAAD,EAA/CyS,EAAc,OACdC,EAAeD,EAAexR,KAAI,SAAC4M,GAAC,OAAK8D,GAAkB9D,EAAE,IACnEwD,GAAmBqB,GACnBvD,EAAcuD,GACd5D,GAAc,GACda,IAAiB,GACjBM,GAAqBjQ,EAAQ2H,SAAS,UAAY3H,EAAQ2H,SAAS,cAAgB3H,EAAQ2H,SAAS,cACpGsH,GAAa,GAAO,kDAEpBc,IAAe,GAAM,0DAE5B,kBAfW,mCAkBN4C,GAAoB,SAAC1I,GACvB,IAAM2I,EAAc3I,EAAQhJ,KACxB,SAAC4M,GAAC,gBAAQA,EAAEpL,UAAS,UAAMoL,EAAEpL,UAAS,OAAQ,IAAE,OAAGoL,EAAEvL,MAAK,cAAMuL,EAAErL,IAAG,YAAIqL,EAAEhL,eAAiB,gDAAkD,GAAE,IAGpJ,EAAe7C,EAAQa,MAAM,KAAKuD,OAAO,GAAlCyO,EAAoC,iBAAhC,GACLnJ,EAAQmJ,EAAKzO,MAAM,GAAI,IACvB0O,EAAOD,EAAKzO,OAAO,IAEzB,MAAO,CADWsF,EAAM3E,QAAQ,KAAM,KAAKA,QAAQ,UAAU,SAACgO,GAAG,OAAKA,EAAIC,OAAO,GAAGC,cAAgBF,EAAI3O,MAAM,GAAGY,aAAa,IAAI8N,GACjH,mBAAKF,IAAaM,KAAK,OAC5C,EAEMC,GAAuB,SAAC1M,GAC1B,IAAQpF,EAAgDoF,EAAhDpF,KAAMoB,EAA0CgE,EAA1ChE,UAAWH,EAA+BmE,EAA/BnE,MAAOO,EAAwB4D,EAAxB5D,eAAgBL,EAAQiE,EAARjE,IAE1C4Q,EAAK,WAAO3Q,GAAa,YAAW,aAAKD,EAAG,KAC5C6Q,EAAO,YAAQ/Q,EAAMyC,QAAQ,OAAQ,QAAM,OAAGlC,EAAiB,gDAAkD,GAAE,MAEnHyQ,EAAa,sBAAIjS,EAAKM,KAAKuH,QAAO,SAACtH,GAAC,OAAKA,EAAEM,WAAW,KAAC,YAAKb,EAAKgB,UAAU6G,QAAO,SAACtH,GAAC,OAAKA,EAAEM,WAAW,MAAGjB,KAAI,SAACW,GAAC,OAAKA,EAAEC,IAAI,IAC1H0R,EAAY,WAAOC,MAAMC,KAAK,IAAIC,IAAIJ,EAAWrS,KAAI,SAACW,GAAC,kBAAUA,EAAC,WAAQsR,KAAK,MAAK,KAC1F,MAAM,GAAN,OAAUlD,GAAoB,KAAO,IAAG,YAAIoD,EAAK,aAAKC,EAAO,YAAIC,EAAWpP,OAASqP,EAAe,GACxG,EAEMI,GAAmB,SAAC1J,GACtB,IAAK4E,EAAY,MAAO,GACxB,IAC4B,EADtB+D,EAAwB,GAAG,cACZ3I,GAAO,IAA5B,2BAA8B,CAAC,IAApBxD,EAAM,QACPmN,EAAWT,GAAqB1M,GACtCmM,EAAYrO,KAAKqP,EACrB,CAAC,+BACD,MAAO,CAAC,iBAAD,OAAkB5T,GAAW,IAAM,IAAE,OAAK4S,EAAY,CAAC,GAjO7D,wIAiOsEM,KAAK,OAChF,EAEMW,GAAe,uCAAG,WAAOzT,GAAY,oEAClC0T,UAAUC,UAAU,CAAD,gEAGlBD,UAAUC,UAAUC,UAAU5T,GAAM,KAAD,sCAC5C,gBALoB,sCAQf6T,GAAc,SAAC5S,EAAY6S,GAE7B,QADW,sBAAO7S,EAAKM,MAAI,YAAKN,EAAKgB,YAC3B6G,QAAO,SAACtH,GAAC,OAAKsS,EAAYvM,SAAS/F,EAAEC,KAAK,IAAEqC,MAI1D,EA4BMiQ,GAAmBvC,uBACrB,SAAC3H,GAKG,OAJqBA,EAAQf,QAAO,SAAC2E,GAAC,OAAMyC,IAAkBzC,EAAEjL,KAAK,IACpCsG,QAAO,SAAC2E,GAAC,OAAM2C,IAAiB3C,EAAElL,QAAQ,IAC1CuG,QAAO,SAAC2E,GAAC,OAAM2B,EAAmBtL,QA9BlD,SAAC7C,EAAY+S,GAClC,IAgBMC,EAhBK,sBAAOhT,EAAKM,MAAI,YAAKN,EAAKgB,YACb6G,QACpB,SAACtH,GAAC,OACG,CACG,SACA,SACA,QACA,WACA,SACA,sBACA,sBACA,qBACA,wBACA,uBACF+F,SAAS/F,EAAEC,KAAK,IAEGyS,SAAQ,SAAC1S,GAAC,aAAW,QAAN,EAAAA,EAAEO,YAAI,aAAN,EAAQoS,YAAa,EAAE,IAGnE,QAFa,YAAO,IAAIb,IAAIW,IAEhBnL,QAAO,SAACmC,GAAC,OAAK+I,EAAiBzM,SAAS0D,EAAE,IAAEnH,MAI5D,CAMqFsQ,CAAiB3G,EAAExM,KAAMmO,EAAmB,IACxFtG,QAAO,SAAC2E,GAAC,OAAMuB,EAAclL,QAAU+P,GAAYpG,EAAExM,KAAM+N,EAAc,GAE9G,GACA,CAACA,EAAeI,EAAoBgB,GAAeF,KAGjDmE,GAAmB7C,uBACrB,SAAC8C,GAKG,OAJsBA,EAAMxL,QACxB,SAACtH,GAAC,aAAM4N,EAAmBtL,SAAqB,QAAf,EAAItC,EAAEiC,KAAK1B,YAAI,aAAX,EAAaoS,UAAUrL,QAAO,SAACyL,GAAC,OAAKnF,EAAmB7H,SAASgN,EAAE,IAAEzQ,OAAM,IAE/EgF,QAAO,SAACtH,GAAC,OAAMwN,EAAclL,QAAUkL,EAAczH,SAAS/F,EAAEiC,KAAKhC,KAAK,GAEnH,GACA,CAACuN,EAAeI,IAGdoF,GAAkBT,GAAiBjF,GACnC2F,GAAqBJ,GAAiBnF,GAEtCwF,GAA6B,aAAf1E,GAA4BuD,GAAiBiB,IAAmBjC,GAAkBiC,IAEhGG,GAAsBzF,EACvBpG,QACG,SAACtH,GAAC,OACG,CACG,SACA,SACA,QACA,WACA,SACA,sBACA,sBACA,qBACA,wBACA,uBACF+F,SAAS/F,EAAEiC,KAAKhC,KAAK,IAE9BqH,QAAO,SAACtH,GAAC,eAAgB,QAAX,EAAAA,EAAEiC,KAAK1B,YAAI,aAAX,EAAaoS,UAAU5M,SAAS7E,EAAQ,GAAGC,SAAU8N,IAAkD,KAAvB,QAAX,EAAAjP,EAAEiC,KAAK1B,YAAI,aAAX,EAAaoS,UAAUrQ,QAAa,IACvHjD,KAAI,SAACW,GACF,IAAMyK,EAAQ,cAAUzK,EAAEiC,KAAKhC,KAAI,MAC7BmT,EAAO9F,EACRhG,QAAO,SAAC2E,GAAC,OAAKoG,GAAYpG,EAAExM,KAAM,CAACO,EAAEiC,KAAKhC,MAAM,IAChDZ,KAAI,SAAC4M,GACF,MAAM,MAAN,OAAaA,EAAEpL,WAAa,YAAW,aAAKoL,EAAErL,IAAG,MACrD,IACJ,MAAM,GAAN,OAAU6J,EAAQ,YAAI,YAAI2I,GAAM9B,KAAK,MACzC,IACCA,KAAK,QAEJ+B,GAAQ,CACV,CACIC,SAAU,UACVC,KACI,cAACC,EAAA,EAAIC,KAAI,UACL,cAAC/I,EAAA,EAAI,UACD,cAACA,EAAA,EAAKgJ,SAAQ,CAACnK,MAAO2J,GAAapQ,MAAO,CAAE6Q,OAAQ,UAF9C,YAOtB,CACIL,SAAU,cACVC,KACI,cAACC,EAAA,EAAIC,KAAI,UACL,cAAC/I,EAAA,EAAI,UACD,cAACA,EAAA,EAAKgJ,SAAQ,CACVnK,MAAO0J,GACFpD,MAAK,SAACpD,EAAGqD,GAAC,OAAKA,EAAE7N,KAAK7B,MAAQqM,EAAExK,KAAK7B,KAAK,IAC1Cf,KACG,SAACW,GAAC,gBACKA,EAAEiC,KAAK7B,MAAK,eAAOJ,EAAEiC,KAAK7B,MAAQ,EAAI,MAAQ,IAAG,eAAOJ,EAAEiC,KAAKhC,KAAI,eAAOD,EAAE4P,UAAS,gBACpF5P,EAAE4P,UAAY,EAAI,IAAM,GAAE,IAGrC0B,KAAK,QACVxO,MAAO,CAAE6Q,OAAQ,UAZf,WAkBtB,CACIL,SAAS,cAAD,OAAgBpS,EAAQ,GAAGC,KAAI,UACvCoS,KACI,cAACC,EAAA,EAAIC,KAAI,UACL,eAAC/I,EAAA,EAAI,WACD,cAACA,EAAA,EAAKf,SAAQ,CAAC1B,MAAM,iBAAiB2B,UAAWqF,GAAczF,SAAU,SAACC,EAAE,GAAD,IAAIG,EAAO,EAAPA,QAAO,OAAOsF,KAAkBtF,EAAQ,IACvH,cAACc,EAAA,EAAKgJ,SAAQ,CAAC5Q,MAAO,CAAE6Q,OAAQ,KAAOpK,MAAO4J,SAHxC,YAkB1B,OACI,eAAC3L,EAAA,EAAS,CAACjE,UAAU,MAAK,UACrB6J,GACG,cAACwG,EAAA,EAAM,CAAC/G,QAAM,EAACgH,UAAQ,WACnB,cAACC,EAAA,EAAM,CAAC5M,KAAK,QAAO,uBAG5B,cAACtD,EAAA,EAAM,mCACP,eAAC8C,EAAA,EAAI,CAACqN,QAAS,GAAG,UACd,cAACrN,EAAA,EAAKG,IAAG,UACL,eAACmN,EAAA,EAAO,CAACC,SAAO,uKAEI,mBAAG9J,KAAK,wDAAuD,kCAAyB,uEAIhH,eAACzD,EAAA,EAAKG,IAAG,WACL,eAACH,EAAA,EAAKI,OAAM,CAACH,MAAO,EAAGK,UAAU,OAAM,UACnC,cAACsC,EAAA,EAAK,CAACC,MAAOnL,EAASoL,SAAU,SAACC,GAAC,OAAK0D,EAAW1D,EAAEqC,OAAOvC,MAAM,EAAEsC,YAAY,kBAChF,mBAAG1B,KAAK,yCAAyC2B,OAAO,SAASoI,IAAI,sBAAsBpR,MAAO,CAAEC,WAAY,OAAQ,6BAI5H,cAAC2D,EAAA,EAAKI,OAAM,CAACH,MAAO,GAAIK,UAAU,OAAM,SACpC,eAACpE,EAAA,EAAI,CAACuR,YAAU,YACZ,cAACvR,EAAA,EAAKC,KAAI,UACN,cAACgH,EAAA,EAAM,CAACvG,QAASsN,GAAQ3N,QAAQ,aAErC,cAACL,EAAA,EAAKC,KAAI,UACN,cAACgH,EAAA,EAAM,CAACvG,QAAS,kBAAMyK,IAAiB,EAAK,EAAE9K,QAAQ,QAAQmR,UAAWnH,MAE9E,cAACrK,EAAA,EAAKC,KAAI,UACN,cAACgH,EAAA,EAAM,CACHvG,QAAS,WACLyL,IAAkB,EACtB,EACA9L,QAAQ,4BAGhB,cAACL,EAAA,EAAKC,KAAI,UACN,cAACgH,EAAA,EAAM,CAACvG,QAAS,kBAAM2K,IAAiB,EAAK,EAAEhL,QAAQ,4BAMvE,cAACyD,EAAA,EAAKG,IAAG,UACL,cAACH,EAAA,EAAKI,OAAM,CAACH,MAAO,GAAG,SACnB,eAACgG,EAAA,EAAS,WACN,eAACA,EAAA,EAAUC,MAAK,CACZC,OAAQyB,GACRhL,QAAS,WACLiL,IAAkBD,GACtB,EAAE,UAEF,cAACrH,EAAA,EAAI,CAAChH,KAAK,aACX,yGACA,qBAAKsD,UAAU,4BAEnB,eAACoJ,EAAA,EAAUjJ,QAAO,CAACmJ,OAAQyB,GAAc,UACrC,cAAC5D,EAAA,EAAKC,SAAQ,CACV1C,MAAM,mBACNoM,UAAQ,EACRnJ,WAAS,EACTL,QAAM,EACND,WAAS,EACTE,UAAQ,EACRvB,MAAOiE,EACP3F,QAAS2C,IAAe,GACxBhB,SAAU,SAACwB,EAAG,GAAgB,IAAbzB,EAAK,EAALA,MACbkE,EAAiBlE,EACrB,IAEJ,cAACmB,EAAA,EAAKC,SAAQ,CACV1C,MAAM,wBACNoM,UAAQ,EACRnJ,WAAS,EACTL,QAAM,EACND,WAAS,EACTrB,MAAOqE,EACP/F,QAAS3G,EAAQ7B,KAAI,SAACiV,GAAC,MAAM,CACzB/M,IAAK+M,EAAEnT,KACPoI,MAAO+K,EAAEnT,KACT3C,KAAM8V,EAAErU,KACX,IACDuJ,SAAU,SAACwB,EAAG,GAAgB,IAAbzB,EAAK,EAALA,MACbsE,GAAsBtE,EAC1B,IAEJ,cAACmB,EAAA,EAAK6J,MAAK,2BACX,cAAC7J,EAAA,EAAKf,SAAQ,CACV6K,OAAK,EACLvU,KAAK,uBACLgI,MAAM,WACNsB,MAAOiF,GACP5E,QAAwB,aAAf4E,GACTlL,QAAS,kBAAMmL,GAAc,WAAW,IAE5C,cAAC/D,EAAA,EAAKf,SAAQ,CACV6K,OAAK,EACLvU,KAAK,uBACLgI,MAAM,YACNsB,MAAOiF,GACP5E,QAAwB,cAAf4E,GACTlL,QAAS,kBAAMmL,GAAc,YAAY,IAE7C,cAAC/D,EAAA,EAAKf,SAAQ,CACVoC,QAAM,EACN9D,MAAM,mBACN2B,QAAS8E,GACTlF,SAAU,SAACwB,EAAG,GAAD,IAAIpB,EAAO,EAAPA,QAAO,OAAO+E,KAAoB/E,EAAQ,IAE/D,cAACc,EAAA,EAAKf,SAAQ,CACVoC,QAAM,EACN9D,MAAM,sBACN2B,QAASgF,GACTpF,SAAU,SAACwB,EAAG,GAAD,IAAIpB,EAAO,EAAPA,QAAO,OAAOiF,KAAmBjF,EAAQ,cAO9E,cAAClD,EAAA,EAAKG,IAAG,UACL,eAACH,EAAA,EAAKI,OAAM,CAACH,MAAO,GAAG,UAClBuH,IACG,cAAC8F,EAAA,EAAO,CAACS,UAAQ,WACb,gHAGR,cAACjB,EAAA,EAAG,CAACH,MAAOA,GAAOqB,kBAAkB,SAG7C,eAAChO,EAAA,EAAKG,IAAG,WACL,cAACgD,EAAA,EAAM,CACHvG,QAAS,WACL2O,GAAgBlB,GAAkBiC,IACtC,EACA/P,QAAQ,mBAEZ,cAAC4G,EAAA,EAAM,CACHvG,QAAS,WACL2O,GAAgBF,GAAiBiB,IACrC,EACA/P,QAAQ,wBAIpB,cAAC,EAAe,CACZsF,KAAMuF,MAA6B,OAAVR,QAAU,IAAVA,MAAYhL,QACrCkG,QAAS,kBAAMuF,IAAiB,EAAM,EACtC1F,QAASiF,EACThF,WAAYiF,IAEhB,cAAC,EAAU,CAAChF,KAAMuG,GAAgBtG,QAlKZ,SAACmM,GAC3B,GAAIA,EAAS,CACT,IAAM7D,EAAexD,EAAWjO,KAAI,SAAC4M,GAAC,OAAK8D,GAAkB9D,EAAE,IAC/DsB,EAAcuD,EAClB,CACA/B,IAAkB,EACtB,EA4J0E5C,eAAgBA,GAAgBC,kBAAmBA,KACrH,cAAC,EAAS,CAAC7D,KAAMyF,GAAexF,QAAS,kBAAMyF,IAAiB,EAAM,MAGlF,ECvhBoB2G,QACa,cAA7BxF,OAAOyF,SAASC,UAEiB,UAA7B1F,OAAOyF,SAASC,UAEhB1F,OAAOyF,SAASC,SAASlW,MAAM,2DCXvCmW,IAASC,OAAO,cAAC,GAAG,IAAKC,SAASC,eAAe,SDqHzC,kBAAmBhD,WACnBA,UAAUiD,cAAcC,MACnBC,MAAK,SAACC,GACHA,EAAaC,YACjB,IACCC,OAAM,SAACC,GACJvW,QAAQuW,MAAMA,EAAMC,QACxB,G","file":"static/js/main.eaaed772.chunk.js","sourcesContent":["export interface Deck {\r\n    main: Card[];\r\n    sideboard: Card[];\r\n}\r\n\r\nexport interface Card {\r\n    name: string;\r\n    count: number;\r\n    highlighted: boolean;\r\n    info?: CardInfo;\r\n}\r\n\r\nexport interface Result {\r\n    pilot: string;\r\n    url: string;\r\n    deck: Deck;\r\n    duplicatePilot: boolean;\r\n    archetype: string;\r\n    index: number;\r\n    favorite: boolean;\r\n    spicy: boolean;\r\n}\r\n\r\nexport interface CardInfo {\r\n    colors: Color[];\r\n    faceName: string;\r\n    type: string;\r\n    types: CardType[];\r\n    manaCost: string;\r\n    text: string;\r\n    power: string;\r\n    toughness: string;\r\n    otherHalf: {\r\n        colors: Color[];\r\n        faceName: string;\r\n        type: string;\r\n        types: CardType[];\r\n        manaCost: string;\r\n        text: string;\r\n        power: string;\r\n        toughness: string;\r\n    };\r\n    printings: string[];\r\n}\r\n\r\nexport interface CardCount {\r\n    card: Card;\r\n    deckCount: number;\r\n}\r\n\r\nexport type Color = \"W\" | \"U\" | \"B\" | \"R\" | \"G\";\r\nexport type CardType = \"Creature\" | \"Land\" | \"Instant\" | \"Sorcery\" | \"Artifact\" | \"Enchantment\" | \"Planeswalker\";\r\n\r\nexport const setList = [\r\n    { code: \"DMU\", name: \"Dominaria United\" },\r\n    { code: \"SNC\", name: \"Streets of New Capenna\" },\r\n    { code: \"NEO\", name: \"Kamigawa: Neon Dynasty\" },\r\n    { code: \"VOW\", name: \"Innistrad: Crimson Vow\" },\r\n    { code: \"MID\", name: \"Innistrad: Midnight Hunt\" },\r\n    { code: \"AFR\", name: \"Adventures in the Forgotten Realms\" },\r\n    { code: \"MH2\", name: \"Modern Horizons 2\" },\r\n    { code: \"STX\", name: \"Strixhaven: School of Mages\" },\r\n    { code: \"KHM\", name: \"Kaldheim\" },\r\n    { code: \"ZNR\", name: \"Zendikar Rising\" },\r\n    { code: \"M21\", name: \"Core Set 2021\" },\r\n    { code: \"IKO\", name: \"Ikoria: Lair of Behemoths\" },\r\n    { code: \"THB\", name: \"Theros Beyond Death\" },\r\n    { code: \"ELD\", name: \"Throne of Eldraine\" },\r\n    { code: \"M20\", name: \"Core Set 2020\" },\r\n    { code: \"MH1\", name: \"Modern Horizons\" },\r\n    { code: \"WAR\", name: \"War of the Spark\" }\r\n];\r\n\r\nexport interface Archetype {\r\n    id: number;\r\n    name: string;\r\n    prefixColors?: boolean;\r\n    rules: Rule[];\r\n}\r\n\r\nexport interface Rule {\r\n    cardName: string;\r\n    in: \"main\" | \"side\" | \"both\";\r\n    atLeast?: number;\r\n    atMost?: number;\r\n}\r\n\r\nexport enum guildMap {\r\n    UW = \"Azorius\",\r\n    UB = \"Dimir\",\r\n    UR = \"Izzet\",\r\n    UG = \"Simic\",\r\n    BW = \"Orzhov\",\r\n    BR = \"Rakdos\",\r\n    BG = \"Golgari\",\r\n    RG = \"Gruul\",\r\n    RW = \"Boros\",\r\n    GW = \"Selesnya\"\r\n}\r\n\r\nexport enum shardMap {\r\n    UBR = \"Grixis\",\r\n    UBG = \"Sultai\",\r\n    UBW = \"Esper\",\r\n    URG = \"Temur\",\r\n    URW = \"Jeskai\",\r\n    UGW = \"Bant\",\r\n    BRG = \"Jund\",\r\n    BRW = \"Mardu\",\r\n    BGW = \"Abzan\",\r\n    RGW = \"Naya\"\r\n}\r\n","import fetch from \"node-fetch\";\r\nimport { Deck, Result } from \"./types\";\r\nimport cardInfo from \"./resources/cardInfo.json\";\r\n\r\nexport const getDecksFromUrl = async (wotcUrl: string): Promise<Result[]> => {\r\n    if (wotcUrl.startsWith(\"https://www.mtgo.com\")) {\r\n        try {\r\n            const response = await fetch(`https://scraper-cors.herokuapp.com/${wotcUrl}`);\r\n            const body = await response.text();\r\n            const decklistLineRegex = new RegExp(\"window.MTGO.decklists.data = .*;\");\r\n            const match = decklistLineRegex.exec(body);\r\n            if (match) {\r\n                const parsed = JSON.parse(match[0].split(\" = \")[1].split(\";\")[0]);\r\n                console.log(parsed);\r\n                return parsed.decks.map((d, i) => {\r\n                    const parsedDeck = d.deck.find((x) => !x.SB).DECK_CARDS;\r\n                    const parsedSideboard = d.deck.find((x) => x.SB).DECK_CARDS;\r\n                    const deck: Deck = {\r\n                        main: parsedDeck.map((c) => ({\r\n                            name: c.CARD_ATTRIBUTES.NAME,\r\n                            count: c.Quantity,\r\n                            highlighted: false,\r\n                            info: cardInfo[c.CARD_ATTRIBUTES.NAME]\r\n                        })),\r\n                        sideboard: parsedSideboard.map((c) => ({\r\n                            name: c.CARD_ATTRIBUTES.NAME,\r\n                            count: c.Quantity,\r\n                            highlighted: false,\r\n                            info: cardInfo[c.CARD_ATTRIBUTES.NAME]\r\n                        }))\r\n                    };\r\n                    return {\r\n                        pilot: d.player,\r\n                        url: `${wotcUrl}#deck_${d.player}`,\r\n                        archetype: \"\",\r\n                        index: i,\r\n                        favorite: false,\r\n                        spicy: false,\r\n                        deck,\r\n                        duplicatePilot: false\r\n                    };\r\n                });\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n            throw err;\r\n        }\r\n    }\r\n    return [];\r\n};\r\n","import React from \"react\";\r\nimport { Card } from \"./types\";\r\nimport { Card as SemanticCard, List, Popup } from \"semantic-ui-react\";\r\nimport { Mana } from \"@saeris/react-mana\";\r\n\r\ninterface CardItemProps {\r\n    card: Card;\r\n    toggleCardHighlight(Card: Card): void;\r\n}\r\n\r\nconst colorMap: {\r\n    [key: string]: \"blue\" | \"black\" | \"red\" | \"green\" | \"yellow\" | \"brown\" | undefined;\r\n} = {\r\n    W: undefined,\r\n    U: \"blue\",\r\n    B: \"black\",\r\n    R: \"red\",\r\n    G: \"green\",\r\n    M: \"yellow\",\r\n    C: \"brown\"\r\n};\r\n\r\nconst CardItem: React.FC<CardItemProps> = (props: CardItemProps) => {\r\n    const { card, toggleCardHighlight } = props;\r\n    let cardColor: \"blue\" | \"black\" | \"red\" | \"green\" | \"yellow\" | \"brown\" | undefined;\r\n    let otherHalfColor: \"blue\" | \"black\" | \"red\" | \"green\" | \"yellow\" | \"brown\" | undefined;\r\n    const costIcons: React.ReactElement[] = [];\r\n    if (card.info) {\r\n        const { colors, manaCost } = card.info;\r\n        switch (colors.length) {\r\n            case 0:\r\n                cardColor = colorMap[\"C\"];\r\n                break;\r\n            case 1:\r\n                cardColor = colorMap[colors[0]];\r\n                break;\r\n            default:\r\n                cardColor = colorMap[\"M\"];\r\n                break;\r\n        }\r\n        if (card.info.otherHalf?.colors) {\r\n            switch (card.info.otherHalf.colors.length) {\r\n                case 0:\r\n                    otherHalfColor = colorMap[\"C\"];\r\n                    break;\r\n                case 1:\r\n                    otherHalfColor = colorMap[colors[0]];\r\n                    break;\r\n                default:\r\n                    otherHalfColor = colorMap[\"M\"];\r\n                    break;\r\n            }\r\n        }\r\n        if (manaCost) {\r\n            const manaCostArray = manaCost.slice(1, manaCost.length - 1).split(\"}{\");\r\n            manaCostArray.forEach((pip, index) => {\r\n                costIcons.push(\r\n                    <List.Item key={index} style={{ marginLeft: 2, paddingTop: 0 }} content={<Mana symbol={pip.replace(\"/\", \"\").toLowerCase()} shadow />} />\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <List.Item key={card.name} onClick={() => toggleCardHighlight(card)} className={card.highlighted ? \"highlight\" : \"\"}>\r\n            <Popup\r\n                trigger={\r\n                    <p>\r\n                        {card.count} {card.name}\r\n                    </p>\r\n                }\r\n            >\r\n                <Popup.Content>\r\n                    {card.info && (\r\n                        <>\r\n                            <SemanticCard color={cardColor}>\r\n                                <SemanticCard.Content>\r\n                                    <SemanticCard.Header>{card.name}</SemanticCard.Header>\r\n                                    <SemanticCard.Meta>{card.info.type}</SemanticCard.Meta>\r\n                                    <SemanticCard.Description style={{ whiteSpace: \"pre-line\" }}>{card.info.text}</SemanticCard.Description>\r\n                                </SemanticCard.Content>\r\n                                {(card.info.power || card.info.toughness) && (\r\n                                    <SemanticCard.Content extra style={{ padding: \".25em 1em\" }}>\r\n                                        <div\r\n                                            style={{\r\n                                                float: \"right\",\r\n                                                fontWeight: \"bold\"\r\n                                            }}\r\n                                        >\r\n                                            {card.info.power}/{card.info.toughness}\r\n                                        </div>\r\n                                    </SemanticCard.Content>\r\n                                )}\r\n                            </SemanticCard>\r\n                            {card.info.otherHalf && (\r\n                                <SemanticCard color={otherHalfColor}>\r\n                                    <SemanticCard.Content>\r\n                                        <SemanticCard.Header>{card.info.otherHalf.faceName}</SemanticCard.Header>\r\n                                        <SemanticCard.Meta>{card.info.otherHalf.type}</SemanticCard.Meta>\r\n                                        <SemanticCard.Description style={{ whiteSpace: \"pre-line\" }}>{card.info.otherHalf.text}</SemanticCard.Description>\r\n                                    </SemanticCard.Content>\r\n                                    {(card.info.otherHalf.power || card.info.otherHalf.toughness) && (\r\n                                        <SemanticCard.Content extra style={{ padding: \".25em 1em\" }}>\r\n                                            <div\r\n                                                style={{\r\n                                                    float: \"right\",\r\n                                                    fontWeight: \"bold\"\r\n                                                }}\r\n                                            >\r\n                                                {card.info.power}/{card.info.toughness}\r\n                                            </div>\r\n                                        </SemanticCard.Content>\r\n                                    )}\r\n                                </SemanticCard>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </Popup.Content>\r\n            </Popup>\r\n        </List.Item>\r\n    );\r\n};\r\n\r\nexport default CardItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Header, Grid, List, Container, Icon } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport { Doughnut } from \"react-chartjs-2\";\r\nimport { Result, Card } from \"./types\";\r\nimport CardItem from \"./CardItem\";\r\n\r\ninterface DeckListProps {\r\n    result: Result;\r\n    updateDeck(result: Result): void;\r\n}\r\n\r\nconst colorLabels = [\"White\", \"Blue\", \"Black\", \"Red\", \"Green\", \"Colorless\"];\r\n\r\nconst typeLabels = [\"Creature\", \"Noncreature\", \"Land\"];\r\n\r\nconst colorColors = [\"#fff8d6\", \"#367ae0\", \"#404040\", \"#db2e2e\", \"#187d2a\", \"#cfcfcf\"];\r\n\r\nconst typeColors = [\"#8ba349\", \"#c48dc2\", \"#ffb114\"];\r\n\r\nconst DeckList: React.FC<DeckListProps> = (props: DeckListProps) => {\r\n    const { result, updateDeck } = props;\r\n    const [colorCount, setColorCount] = useState<number[]>([]);\r\n    const [typeCount, setTypeCount] = useState<number[]>([]);\r\n\r\n    useEffect(() => {\r\n        if (!result) return;\r\n        let [wCount, uCount, bCount, rCount, gCount, cCount] = [0, 0, 0, 0, 0, 0];\r\n        let [creatures, noncreatures, lands] = [0, 0, 0];\r\n\r\n        result.deck.main.forEach((card) => {\r\n            if (card.info) {\r\n                const { colors, types } = card.info;\r\n                if (colors.includes(\"W\")) wCount += card.count;\r\n                if (colors.includes(\"U\")) uCount += card.count;\r\n                if (colors.includes(\"B\")) bCount += card.count;\r\n                if (colors.includes(\"R\")) rCount += card.count;\r\n                if (colors.includes(\"G\")) gCount += card.count;\r\n                if (!colors.length && !card.info.types.includes(\"Land\")) cCount += card.count;\r\n\r\n                if (types.includes(\"Creature\")) creatures += card.count;\r\n                else if (types.includes(\"Land\")) lands += card.count;\r\n                else noncreatures += card.count;\r\n            }\r\n        });\r\n        setColorCount([wCount, uCount, bCount, rCount, gCount, cCount]);\r\n        setTypeCount([creatures, noncreatures, lands]);\r\n    }, [result]);\r\n\r\n    const toggleCardHighlight = (card: Card) => {\r\n        const { deck } = result;\r\n        deck.main.forEach((c) => {\r\n            if (c.name === card.name) {\r\n                c.highlighted = !c.highlighted;\r\n            }\r\n        });\r\n        deck.sideboard.forEach((c) => {\r\n            if (c.name === card.name) {\r\n                c.highlighted = !c.highlighted;\r\n            }\r\n        });\r\n        updateDeck({ ...result, deck });\r\n    };\r\n\r\n    const toggleSpicy = () => {\r\n        updateDeck({ ...result, spicy: !result.spicy });\r\n    };\r\n\r\n    const toggleFavorite = () => {\r\n        updateDeck({ ...result, favorite: !result.favorite });\r\n    };\r\n\r\n    const main: { [key: string]: React.ReactElement[] } = {\r\n        Planeswalkers: [],\r\n        Creatures: [],\r\n        Instants: [],\r\n        Sorceries: [],\r\n        Artifacts: [],\r\n        Enchantments: [],\r\n        Lands: [],\r\n        Unknown: []\r\n    };\r\n\r\n    result.deck.main.forEach((card) => {\r\n        if (!card.info) {\r\n            main.Unknown.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Creature\")) {\r\n            main.Creatures.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Land\")) {\r\n            main.Lands.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Instant\")) {\r\n            main.Instants.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Sorcery\")) {\r\n            main.Sorceries.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Artifact\") && !card.info.types.includes(\"Creature\")) {\r\n            main.Artifacts.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Enchantment\") && !card.info.types.includes(\"Creature\")) {\r\n            main.Enchantments.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Planeswalker\")) {\r\n            main.Planeswalkers.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        }\r\n    });\r\n\r\n    const side: { [key: string]: React.ReactElement[] } = {\r\n        Companion: [],\r\n        Planeswalkers: [],\r\n        Creatures: [],\r\n        Instants: [],\r\n        Sorceries: [],\r\n        Artifacts: [],\r\n        Enchantments: [],\r\n        Lands: [],\r\n        Unknown: []\r\n    };\r\n\r\n    result.deck.sideboard.forEach((card) => {\r\n        if (!card.info) {\r\n            side.Unknown.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Creature\")) {\r\n            if (card.info.text && card.info.text.includes(\"Companion â€”\")) {\r\n                side.Companion.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n            } else {\r\n                side.Creatures.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n            }\r\n        } else if (card.info.types.includes(\"Land\")) {\r\n            side.Lands.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Instant\")) {\r\n            side.Instants.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Sorcery\")) {\r\n            side.Sorceries.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Artifact\") && !card.info.types.includes(\"Creature\")) {\r\n            side.Artifacts.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Enchantment\") && !card.info.types.includes(\"Creature\")) {\r\n            side.Enchantments.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        } else if (card.info.types.includes(\"Planeswalker\")) {\r\n            side.Planeswalkers.push(<CardItem key={card.name} card={card} toggleCardHighlight={toggleCardHighlight} />);\r\n        }\r\n    });\r\n\r\n    return (\r\n        <Grid width={16} className=\"decklist\" padded>\r\n            <Grid.Row>\r\n                <Grid.Column width={5}>\r\n                    <Header style={{ marginBottom: 0 }}>\r\n                        {result.archetype ? `${result.archetype} | ` : \"\"}\r\n                        {result.pilot}\r\n                    </Header>\r\n                </Grid.Column>\r\n                <Grid.Column width={2} textAlign={\"right\"}>\r\n                    <Icon name=\"heart\" size=\"big\" color={result.favorite ? \"pink\" : \"grey\"} className=\"clickable\" onClick={toggleFavorite} />{\" \"}\r\n                    <Icon name=\"hotjar\" size=\"big\" color={result.spicy ? \"orange\" : \"grey\"} className=\"clickable\" onClick={toggleSpicy} />\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row>\r\n                <Grid.Column width={4}>\r\n                    <Header content=\"Main\" style={{ marginBottom: 0 }} />\r\n                    <List style={{ marginTop: 0 }}>\r\n                        <List.Item>\r\n                            {Object.keys(main)\r\n                                .filter((key) => main[key].length)\r\n                                .map((key) => {\r\n                                    return (\r\n                                        <List.List key={key}>\r\n                                            <List.Header content={key} />\r\n                                            {main[key]}\r\n                                        </List.List>\r\n                                    );\r\n                                })}\r\n                        </List.Item>\r\n                    </List>\r\n                </Grid.Column>\r\n                <Grid.Column width={3}>\r\n                    <Header content=\"Sideboard\" style={{ marginBottom: 0 }} />\r\n                    <List style={{ marginTop: 0 }}>\r\n                        <List.Item>\r\n                            {Object.keys(side)\r\n                                .filter((key) => side[key].length)\r\n                                .map((key) => {\r\n                                    return (\r\n                                        <List.List key={key}>\r\n                                            <List.Header>\r\n                                                {key === \"Companion\" && <Icon name=\"paw\" />}\r\n                                                {key}\r\n                                                {key === \"Companion\" && <Icon name=\"paw\" />}\r\n                                            </List.Header>\r\n                                            {side[key]}\r\n                                        </List.List>\r\n                                    );\r\n                                })}\r\n                        </List.Item>\r\n                    </List>\r\n                </Grid.Column>\r\n                <Grid.Column width={6}>\r\n                    <Container style={{ marginBottom: \"10px\" }}>\r\n                        <Doughnut\r\n                            data={{\r\n                                labels: colorLabels,\r\n                                datasets: [\r\n                                    {\r\n                                        backgroundColor: colorColors,\r\n                                        data: colorCount\r\n                                    }\r\n                                ]\r\n                            }}\r\n                            options={{\r\n                                title: {\r\n                                    display: true,\r\n                                    text: \"Color Distribution\"\r\n                                },\r\n                                legend: { display: false }\r\n                            }}\r\n                        />\r\n                    </Container>\r\n                    <Container>\r\n                        <Doughnut\r\n                            data={{\r\n                                labels: typeLabels,\r\n                                datasets: [\r\n                                    {\r\n                                        backgroundColor: typeColors,\r\n                                        data: typeCount,\r\n                                        label: \"1\"\r\n                                    },\r\n                                    {\r\n                                        backgroundColor: typeColors.slice(0, 2),\r\n                                        data: typeCount.slice(0, 2),\r\n                                        label: \"2\"\r\n                                    }\r\n                                ]\r\n                            }}\r\n                            options={{\r\n                                title: {\r\n                                    display: true,\r\n                                    text: \"Type Distribution\"\r\n                                },\r\n                                legend: { display: true, position: \"bottom\" },\r\n                                cutoutPercentage: 30\r\n                            }}\r\n                        />\r\n                    </Container>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default DeckList;\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Grid, Input, Button, Modal, Checkbox, InputOnChangeData } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport { Result } from \"./types\";\r\nimport DeckList from \"./DeckList\";\r\n\r\ninterface DeckDetailModalProps {\r\n    results: Result[];\r\n    setResults(results: Result[]): void;\r\n    open: boolean;\r\n    onClose(): void;\r\n}\r\n\r\nconst DeckDetailModal: React.FC<DeckDetailModalProps> = (props: DeckDetailModalProps) => {\r\n    const { results, setResults, open, onClose } = props;\r\n    const [displayedDeckIndex, setDisplayedDeckIndex] = useState<number>(0);\r\n    const resultCount = results.length;\r\n\r\n    const goToNextDeck = () => {\r\n        if (!displayedDeck) return;\r\n        const index = displayedDeckIndex || 0;\r\n\r\n        const res = [...results];\r\n        res[index] = displayedDeck;\r\n        setResults(res);\r\n\r\n        if (index + 1 < results.length) {\r\n            setDisplayedDeckIndex(index + 1);\r\n        } else {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const goToPreviousDeck = () => {\r\n        if (!displayedDeck) return;\r\n        const index = displayedDeckIndex || 0;\r\n\r\n        const res = [...results];\r\n        res[index] = displayedDeck;\r\n        setResults(res);\r\n\r\n        if (index !== 0) {\r\n            setDisplayedDeckIndex(index - 1);\r\n        } else {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    const updateDisplayedDeck = (result: Result) => {\r\n        const res = [...results];\r\n        res[displayedDeckIndex] = result;\r\n        setResults(res);\r\n    };\r\n\r\n    const handleSetArchetype = (e: ChangeEvent, data: InputOnChangeData) => {\r\n        const { value } = data;\r\n        updateDisplayedDeck({ ...results[displayedDeckIndex], archetype: value });\r\n    };\r\n\r\n    const handleKeyPress = (e: React.KeyboardEvent) => {\r\n        if (e.key === \"Enter\") {\r\n            goToNextDeck();\r\n        }\r\n    };\r\n    const displayedDeck = results[displayedDeckIndex];\r\n    return (\r\n        <Modal open={open} onClose={onClose} style={{ top: \"3em\", left: \"calc(50vw - 475px)\" }} closeOnDimmerClick={false} closeIcon>\r\n            <Modal.Content>\r\n                {!!displayedDeck && (\r\n                    <Grid width={16}>\r\n                        <Grid.Row className=\"decklist-header\" verticalAlign=\"middle\">\r\n                            <Grid.Column width={4}>\r\n                                <h3 style={{ marginBottom: \"0.25em\" }}>{displayedDeck.pilot}</h3>\r\n                                <span>\r\n                                    Deck {displayedDeck.index + 1} of {resultCount}\r\n                                </span>\r\n                            </Grid.Column>\r\n                            <Grid.Column width={6}>\r\n                                <Input label=\"Archetype\" value={displayedDeck.archetype} onChange={handleSetArchetype} onKeyPress={handleKeyPress} />\r\n                            </Grid.Column>\r\n                            <Grid.Column width={2}>\r\n                                <Checkbox\r\n                                    checked={displayedDeck.favorite}\r\n                                    label=\"Favorite?\"\r\n                                    onChange={() =>\r\n                                        updateDisplayedDeck({\r\n                                            ...displayedDeck,\r\n                                            favorite: !displayedDeck.favorite\r\n                                        })\r\n                                    }\r\n                                />\r\n                                <Checkbox\r\n                                    checked={displayedDeck.spicy}\r\n                                    label=\"Spicy?\"\r\n                                    onChange={() =>\r\n                                        updateDisplayedDeck({\r\n                                            ...displayedDeck,\r\n                                            spicy: !displayedDeck.spicy\r\n                                        })\r\n                                    }\r\n                                />\r\n                            </Grid.Column>\r\n                            <Grid.Column width={2}>\r\n                                <Button onClick={goToPreviousDeck} content=\"Previous\" />\r\n                            </Grid.Column>\r\n                            <Grid.Column width={2}>\r\n                                <Button onClick={goToNextDeck} content=\"Next\" />\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n\r\n                        <Grid.Row>\r\n                            <DeckList result={displayedDeck} updateDeck={updateDisplayedDeck} />\r\n                        </Grid.Row>\r\n                    </Grid>\r\n                )}\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default DeckDetailModal;\r\n","import React from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { List, Container, Modal, ListItem } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\n\r\ninterface InfoModalProps {\r\n    open: boolean;\r\n    onClose(): void;\r\n}\r\n\r\nconst InfoModal: React.FC<InfoModalProps> = (props: InfoModalProps) => {\r\n    const { open, onClose } = props;\r\n\r\n    return (\r\n        <Modal open={open} centered={false} onClose={onClose} closeOnDimmerClick={true} closeIcon>\r\n            <Modal.Content>\r\n                <List>\r\n                    <List.Item>\r\n                        <List.Header>What am I looking at?</List.Header>\r\n                        <Container style={{ padding: \"0.5em 1.25em 0.25em\" }}>\r\n                            This is a web tool for scraping Wizards of the Coast&apos;s MTGO results posts and formatting the contents for a Reddit post (or\r\n                            anywhere else that supports Markdown)\r\n                        </Container>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                        <List.Header>How do I use it?</List.Header>\r\n                        <Container style={{ paddingLeft: \"1em\" }}>\r\n                            <List ordered>\r\n                                <ListItem>Paste the url for a WotC deck dump in the little box and click &apos;Scrape.&apos;</ListItem>\r\n                                <ListItem>\r\n                                    Create archetype definition rules (they&apos;ll be saved locally for next time you use this site from your current device).\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    Click &apos;Decks&apos; to view the decklists. From there, you can tweak the archetype names and click cards to highlight\r\n                                    them.\r\n                                </ListItem>\r\n                                <ListItem>\r\n                                    Copy the resulting text into your Reddit post. Be sure you&apos;re in &apos;Markdown Mode&apos; or your links will get ugly.\r\n                                </ListItem>\r\n                            </List>\r\n                        </Container>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                        <List.Header>How does the archetype definition stuff work?</List.Header>\r\n                        <Container style={{ padding: \"0.5em 1.25em 0.25em\" }}>\r\n                            For each deck in the scraped results, it checks for the presence and count of each named card in the location specified. &apos;At\r\n                            Most: 0&apos; will override &apos;At Least,&apos; but other contradictory rules will simply fail to match. If a deck matches all the\r\n                            rules in an archetype definitions, it adds that archetype name and optionally prefixes the colors (ignoring hybrid and Phyrexian\r\n                            mana costs). Note that it stops checking once an archetype definition applies, so try to put more general definitions toward the end\r\n                            of the list.\r\n                        </Container>\r\n                        <Container style={{ padding: \"0.5em 1.25em 0.25em\" }}>\r\n                            Your definitions are stored in your browser&apos;s local storage in a JSON array, accessible and editable through your\r\n                            browser&apos;s dev tools. I&apos;m planning on adding import and export options, and bugging some users for their definitions once\r\n                            the feature is more battle-tested.\r\n                        </Container>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                        <List.Header>How can I report a bug or suggest a feature?</List.Header>\r\n                        <Container style={{ padding: \"0.5em 1.25em \" }}>\r\n                            Message me on Reddit: <a href=\"https://reddit.com/message/compose/?to=FereMiyJeenyus\">/u/FereMiyJeenyus</a>\r\n                        </Container>\r\n                    </List.Item>\r\n                </List>\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default InfoModal;\r\n","import React from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Button, Form, Container, DropdownItemProps, Grid } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport { Rule } from \"./types\";\r\n\r\ninterface RuleFormProps {\r\n    rule: Rule;\r\n    index: number;\r\n    updateRule(rule: Rule, index: number): void;\r\n    removeRule(index: number): void;\r\n    cardOptions: DropdownItemProps[];\r\n}\r\n\r\nconst RuleForm: React.FC<RuleFormProps> = (props: RuleFormProps) => {\r\n    const { rule, index, updateRule, removeRule, cardOptions } = props;\r\n\r\n    return (\r\n        <>\r\n            <Grid.Column width={4}>\r\n                {rule.cardName ? (\r\n                    <Container>\r\n                        Card Name\r\n                        <br />\r\n                        <strong style={{ display: \"block\", marginTop: \"0.5em\" }}>{rule.cardName}</strong>\r\n                    </Container>\r\n                ) : (\r\n                    <Form.Dropdown\r\n                        label=\"Card Name\"\r\n                        selection\r\n                        search\r\n                        lazyLoad\r\n                        minCharacters={3}\r\n                        value={rule.cardName}\r\n                        options={cardOptions}\r\n                        onChange={(_e, { value }) => {\r\n                            updateRule({ ...rule, cardName: value as string }, index);\r\n                        }}\r\n                    />\r\n                )}\r\n            </Grid.Column>\r\n            <Grid.Column width={2}>\r\n                <Form.Dropdown\r\n                    label=\"At Least\"\r\n                    fluid\r\n                    selection\r\n                    clearable\r\n                    value={rule.atLeast}\r\n                    options={[\r\n                        { key: 1, text: 1, value: 1 },\r\n                        { key: 2, text: 2, value: 2 },\r\n                        { key: 3, text: 3, value: 3 },\r\n                        { key: 4, text: 4, value: 4 }\r\n                    ]}\r\n                    onChange={(_e, { value }) => updateRule({ ...rule, atLeast: value !== \"\" ? (value as number) : undefined }, index)}\r\n                />\r\n            </Grid.Column>\r\n            <Grid.Column width={2}>\r\n                <Form.Dropdown\r\n                    label=\"At Most\"\r\n                    fluid\r\n                    selection\r\n                    clearable\r\n                    value={rule.atMost}\r\n                    options={[\r\n                        { key: 0, text: 0, value: 0 },\r\n                        { key: 1, text: 1, value: 1 },\r\n                        { key: 2, text: 2, value: 2 },\r\n                        { key: 3, text: 3, value: 3 }\r\n                    ]}\r\n                    onChange={(_e, { value }) => updateRule({ ...rule, atMost: value !== \"\" ? (value as number) : undefined }, index)}\r\n                />\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n                <Form.Dropdown\r\n                    label=\"In\"\r\n                    fluid\r\n                    selection\r\n                    value={rule.in}\r\n                    options={[\r\n                        { key: 0, text: \"Main\", value: \"main\" },\r\n                        { key: 1, text: \"Sideboard\", value: \"side\" },\r\n                        { key: 2, text: \"Either\", value: \"both\" }\r\n                    ]}\r\n                    onChange={(_e, { value }) => updateRule({ ...rule, in: value as \"main\" | \"side\" | \"both\" }, index)}\r\n                />\r\n            </Grid.Column>\r\n            <Grid.Column width={1} textAlign=\"right\">\r\n                <Button\r\n                    style={{ marginTop: \"1.4em\" }}\r\n                    icon=\"trash\"\r\n                    onClick={() => {\r\n                        removeRule(index);\r\n                    }}\r\n                />\r\n            </Grid.Column>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default RuleForm;\r\n","import React from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { DropdownItemProps, Checkbox, Grid, Input, Button } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport RuleForm from \"./RuleForm\";\r\nimport { Archetype, Rule } from \"./types\";\r\n\r\ninterface ArchetypeViewProps {\r\n    archetype: Archetype;\r\n    updateArchetype(archetype: Archetype): void;\r\n    cardOptions: DropdownItemProps[];\r\n}\r\n\r\nconst ArchetypeView: React.FC<ArchetypeViewProps> = (props: ArchetypeViewProps) => {\r\n    const { archetype, updateArchetype, cardOptions } = props;\r\n\r\n    const updateRule = (rule: Rule, index: number) => {\r\n        const newRules = [...archetype.rules];\r\n        newRules[index] = rule;\r\n        updateArchetype({ ...archetype, rules: newRules });\r\n    };\r\n\r\n    const addRule = () => {\r\n        const newRules = [...archetype.rules, { cardName: \"\", in: \"main\" } as Rule];\r\n        updateArchetype({ ...archetype, rules: newRules });\r\n    };\r\n\r\n    const removeRule = (index: number) => {\r\n        const newRules = [...archetype.rules];\r\n        newRules.splice(index, 1);\r\n        updateArchetype({ ...archetype, rules: newRules });\r\n    };\r\n\r\n    return (\r\n        <Grid divided=\"vertically\">\r\n            <Grid.Row verticalAlign=\"middle\">\r\n                <Grid.Column width={4}>\r\n                    <Input\r\n                        value={archetype.name}\r\n                        placeholder=\"Archetype Name\"\r\n                        onChange={(e) => {\r\n                            updateArchetype({ ...archetype, name: e.target.value });\r\n                        }}\r\n                    />\r\n                </Grid.Column>\r\n                <Grid.Column width={4}>\r\n                    <Checkbox\r\n                        toggle\r\n                        label=\"Add Color Prefix?\"\r\n                        checked={archetype.prefixColors}\r\n                        onChange={(e, { checked }) => {\r\n                            updateArchetype({ ...archetype, prefixColors: checked });\r\n                        }}\r\n                    />\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n\r\n            {archetype.rules.map((r, i) => {\r\n                return (\r\n                    <Grid.Row key={r.cardName}>\r\n                        <RuleForm rule={r} index={i} updateRule={updateRule} removeRule={removeRule} cardOptions={cardOptions} />\r\n                    </Grid.Row>\r\n                );\r\n            })}\r\n            <Grid.Row>\r\n                <Grid.Column>\r\n                    <Button icon=\"plus\" content=\"Add Card Rule\" onClick={addRule} />\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default ArchetypeView;\r\n","import React, { useState } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Modal, Accordion, Icon, Button } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport ArchetypeView from \"./ArchetypeView\";\r\nimport { Archetype } from \"./types\";\r\nimport cardInfo from \"./resources/cardInfo.json\";\r\n\r\ninterface RulesModalProps {\r\n    open: boolean;\r\n    onClose(refresh: boolean): void;\r\n    archetypeRules: Archetype[];\r\n    setArchetypeRules(archetypes: Archetype[]): void;\r\n}\r\n\r\nconst cardOptions = Object.keys(cardInfo).map((card) => ({ key: card, text: card, value: card }));\r\n\r\nconst RulesModal: React.FC<RulesModalProps> = (props: RulesModalProps) => {\r\n    const { open, onClose, archetypeRules, setArchetypeRules } = props;\r\n    const [activeIndex, setActiveIndex] = useState<number>(0);\r\n\r\n    const updateArchetype = (archetype: Archetype) => {\r\n        const newArchetypes = [...archetypeRules];\r\n        const index = archetypeRules.findIndex((a) => a.id === archetype.id);\r\n        newArchetypes[index] = archetype;\r\n        setArchetypeRules(newArchetypes);\r\n    };\r\n\r\n    const addArchetype = () => {\r\n        setArchetypeRules([...archetypeRules, { id: archetypeRules.length + 1, name: \"\", rules: [] }]);\r\n        setActiveIndex(archetypeRules.length);\r\n    };\r\n\r\n    return (\r\n        <Modal open={open} onClose={() => onClose(false)} closeIcon style={{ top: \"3em\", left: \"calc(50vw - 475px)\" }}>\r\n            <Modal.Header>Archetype Definitions (this is super beta, let me know if anything breaks)</Modal.Header>\r\n            <Modal.Content>\r\n                <Accordion>\r\n                    {archetypeRules.map((archetype, i) => {\r\n                        return (\r\n                            <>\r\n                                <Accordion.Title\r\n                                    key={`${archetype.id}-title`}\r\n                                    active={activeIndex === i}\r\n                                    index={i}\r\n                                    onClick={() => {\r\n                                        setActiveIndex(activeIndex !== i ? i : -1);\r\n                                    }}\r\n                                >\r\n                                    <Icon name=\"dropdown\" />\r\n                                    <span>{archetype.name}</span>\r\n                                    <div className=\"accordion-title-line\" />\r\n                                </Accordion.Title>\r\n                                <Accordion.Content key={`${archetype.id}-content`} active={activeIndex === i}>\r\n                                    <ArchetypeView archetype={archetype} updateArchetype={updateArchetype} cardOptions={cardOptions} />\r\n                                </Accordion.Content>\r\n                            </>\r\n                        );\r\n                    })}\r\n                </Accordion>\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n                <Button icon=\"plus\" content=\"Create New Archetype Definition\" floated=\"left\" onClick={() => addArchetype()} />\r\n                <Button color=\"blue\" content=\"Save and Apply\" onClick={() => onClose(true)} />\r\n            </Modal.Actions>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default RulesModal;\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Header, Container, Grid, Input, Button, Form, Message, Tab, List, DropdownItemProps, Accordion, Icon, Dimmer, Loader } from \"semantic-ui-react\";\r\nimport \"./App.css\";\r\nimport { getDecksFromUrl } from \"./scraper\";\r\nimport { Result, Deck, setList, Card, CardCount, Rule, Archetype, guildMap, shardMap } from \"./types\";\r\nimport DeckDetailModal from \"./DeckDetailModal\";\r\nimport InfoModal from \"./InfoModal\";\r\nimport RulesModal from \"./RulesModal\";\r\n\r\nexport type TextFormat = \"plaintext\" | \"markdown\";\r\nconst thx = `Direct links courtesy of /u/FereMiyJeenyus and their [MTGO Results Scraper](https://feremiyjeenyus.github.io/mtgo-results-scraper/)`;\r\n\r\nconst App: React.FC = () => {\r\n    const [hasScraped, setHasScraped] = useState<boolean>(false);\r\n    const [wotcUrl, setWotcUrl] = useState<string>(\"\");\r\n    const [isLoading, setIsLoading] = useState<boolean>(false);\r\n    const [resultList, setResultList] = useState<Result[]>([]);\r\n    const [selectedCards, setSelectedCards] = useState<string[]>([]);\r\n    const [cardCounts, setCardCounts] = useState<CardCount[]>([]);\r\n    const [selectedExpansions, setSelectedExpansions] = useState<string[]>([]);\r\n    const [deckModalOpen, setDeckModalOpen] = useState<boolean>(false);\r\n    const [infoModalOpen, setInfoModalOpen] = useState<boolean>(false);\r\n    const [scrapeError, setScrapeError] = useState<boolean>(false);\r\n    const [isNumberedResults, setIsNumberedResults] = useState<boolean>(false);\r\n    const [expandOptions, setExpandOptions] = useState<boolean>(false);\r\n    const [textFormat, setTextFormat] = useState<TextFormat>(\"markdown\");\r\n    const [filterForSpice, setFilterForSpice] = useState<boolean>(false);\r\n    const [filterForFave, setFilterForFave] = useState<boolean>(false);\r\n    const [rulesModalOpen, setRulesModalOpen] = useState<boolean>(false);\r\n    const [cardOptions, setCardOptions] = useState<DropdownItemProps[]>([]);\r\n    const [showReprints, setShowReprints] = useState<boolean>(true);\r\n\r\n    const [archetypeRules, setArchetypeRules] = useState<Archetype[]>([]);\r\n\r\n    useEffect(() => {\r\n        const rulesFromStorage = window.localStorage?.getItem(\"archetypeRules\");\r\n        if (rulesFromStorage && rulesFromStorage !== \"undefined\") {\r\n            setArchetypeRules(JSON.parse(rulesFromStorage));\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.localStorage?.setItem(\"archetypeRules\", JSON.stringify(archetypeRules));\r\n    }, [archetypeRules]);\r\n\r\n    // scraping\r\n    const generateCardCounts = (results: Result[]) => {\r\n        const counts: CardCount[] = [];\r\n        results.forEach((r) => {\r\n            r.deck.main.forEach((card) => {\r\n                const countRow = counts.find((c) => c.card.name === card.name);\r\n                if (!countRow) {\r\n                    counts.push({\r\n                        card: { ...card, highlighted: false },\r\n                        deckCount: 1\r\n                    });\r\n                } else {\r\n                    countRow.card.count += card.count;\r\n                    countRow.deckCount++;\r\n                }\r\n            });\r\n\r\n            r.deck.sideboard.forEach((card) => {\r\n                const countRow = counts.find((c) => c.card.name === card.name);\r\n                if (!countRow) {\r\n                    counts.push({\r\n                        card: { ...card, highlighted: false },\r\n                        deckCount: 1\r\n                    });\r\n                } else {\r\n                    countRow.card.count += card.count;\r\n                    if (!r.deck.main.find((c) => c.name === card.name)) {\r\n                        countRow.deckCount++;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        setCardOptions(\r\n            counts\r\n                .sort((a, b) => {\r\n                    if (a.card.name < b.card.name) return -1;\r\n                    if (b.card.name < a.card.name) return 1;\r\n                    return 0;\r\n                })\r\n                .map((c) => ({\r\n                    key: c.card.name,\r\n                    text: c.card.name,\r\n                    value: c.card.name\r\n                }))\r\n        );\r\n        setCardCounts(counts);\r\n    };\r\n\r\n    const deckFitsRule = (deck: Card[], rule: Rule) => {\r\n        const { cardName, atMost, atLeast } = rule;\r\n        return (\r\n            (atMost === 0 && !deck.some((c) => c.name === cardName)) ||\r\n            deck.some((c) => c.name === cardName && (!atLeast || c.count >= atLeast) && (!atMost || c.count <= atMost))\r\n        );\r\n    };\r\n\r\n    const identifyArchetype = useCallback(\r\n        (result: Result): Result => {\r\n            const { deck } = result;\r\n            //lazy clone the card objects because we add the sideboard counts\r\n            const combinedCards = deck.main.map((c) => ({ ...c }));\r\n            deck.sideboard.forEach((card) => {\r\n                const mb = combinedCards.find((c) => c.name === card.name);\r\n                if (!mb) {\r\n                    combinedCards.push(card);\r\n                } else {\r\n                    mb.count += card.count;\r\n                }\r\n            });\r\n            for (const a of archetypeRules) {\r\n                const { name, rules } = a;\r\n                let isMatch = true;\r\n                rules.forEach((r) => {\r\n                    if (isMatch) {\r\n                        //short circuit if a rule isn't fit\r\n                        let cardSet: Card[] = [];\r\n                        switch (r.in) {\r\n                            case \"main\":\r\n                                cardSet = deck.main;\r\n                                break;\r\n                            case \"side\":\r\n                                cardSet = deck.sideboard;\r\n                                break;\r\n                            case \"both\":\r\n                                cardSet = combinedCards;\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n\r\n                        isMatch = deckFitsRule(cardSet, r);\r\n                    }\r\n                });\r\n                if (isMatch) {\r\n                    if (a.prefixColors) {\r\n                        const colorPresence = combinedCards.reduce(\r\n                            (hasColor, card) => {\r\n                                card.info?.colors.forEach((color) => {\r\n                                    if (!card.info?.manaCost?.includes(\"/\")) {\r\n                                        hasColor[color] = true;\r\n                                    }\r\n                                });\r\n                                return hasColor;\r\n                            },\r\n                            { W: false, U: false, B: false, R: false, G: false }\r\n                        );\r\n                        const colorString = `${colorPresence.U ? \"U\" : \"\"}${colorPresence.B ? \"B\" : \"\"}${colorPresence.R ? \"R\" : \"\"}${\r\n                            colorPresence.G ? \"G\" : \"\"\r\n                        }${colorPresence.W ? \"W\" : \"\"}`;\r\n                        let colorPrefix = \"\";\r\n                        const useGuildNames = false;\r\n                        const useShardNames = true;\r\n                        switch (colorString.length) {\r\n                            case 1:\r\n                                colorPrefix = `Mono-${colorString}`;\r\n                                break;\r\n                            case 2:\r\n                                colorPrefix = useGuildNames ? guildMap[colorString] : colorString;\r\n                                break;\r\n                            case 3:\r\n                                colorPrefix = useShardNames ? shardMap[colorString] : colorString;\r\n                                break;\r\n                            case 4:\r\n                                colorPrefix = colorString;\r\n                                break;\r\n                            case 5:\r\n                                colorPrefix = \"5c\";\r\n                                break;\r\n                        }\r\n                        result.archetype = `${colorPrefix} ${name}`;\r\n                    } else {\r\n                        result.archetype = name;\r\n                    }\r\n                    break; //escape loop\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n        [archetypeRules]\r\n    );\r\n\r\n    const scrape = async () => {\r\n        try {\r\n            if (!wotcUrl) return;\r\n            setIsLoading(true);\r\n            const scrapedResults = await getDecksFromUrl(wotcUrl);\r\n            const namedResults = scrapedResults.map((r) => identifyArchetype(r));\r\n            generateCardCounts(namedResults);\r\n            setResultList(namedResults);\r\n            setHasScraped(true);\r\n            setDeckModalOpen(true);\r\n            setIsNumberedResults(wotcUrl.includes(\"champ\") || wotcUrl.includes(\"challenge\") || wotcUrl.includes(\"qualifier\"));\r\n            setIsLoading(false);\r\n        } catch (error) {\r\n            setScrapeError(true);\r\n        }\r\n    };\r\n\r\n    // text generation\r\n    const generatePlaintext = (results: Result[]) => {\r\n        const resultLines = results.map(\r\n            (r) => `${r.archetype ? `${r.archetype} | ` : \"\"}${r.pilot}: <${r.url}>${r.duplicatePilot ? \" (duplicate pilot, link points to other list)\" : \"\"}`\r\n        );\r\n\r\n        const [path] = wotcUrl.split(\"/\").slice(-1);\r\n        const title = path.slice(0, -10);\r\n        const date = path.slice(-10);\r\n        const titleLine = title.replace(/-/g, \" \").replace(/\\w\\S*/g, (txt) => txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase()) + date;\r\n        return [titleLine, ...resultLines].join(\"\\r\\n\");\r\n    };\r\n\r\n    const generateMarkdownLine = (result: Result): string => {\r\n        const { deck, archetype, pilot, duplicatePilot, url } = result;\r\n\r\n        const muUrl = `[${archetype || \"archetype\"}](${url})`;\r\n        const muPilot = `**${pilot.replace(/[_]/g, \"\\\\_\")}${duplicatePilot ? \" (duplicate pilot, link points to other list)\" : \"\"}**`;\r\n\r\n        const highlights = [...deck.main.filter((c) => c.highlighted), ...deck.sideboard.filter((c) => c.highlighted)].map((c) => c.name);\r\n        const muHighlights = `(${Array.from(new Set(highlights.map((c) => `[[${c}]]`))).join(\", \")})`;\r\n        return `${isNumberedResults ? \"1.\" : \"*\"} ${muUrl}: ${muPilot} ${highlights.length ? muHighlights : \"\"}`;\r\n    };\r\n\r\n    const generateMarkdown = (results: Result[]) => {\r\n        if (!hasScraped) return \"\";\r\n        const resultLines: string[] = [];\r\n        for (const result of results) {\r\n            const muString = generateMarkdownLine(result);\r\n            resultLines.push(muString);\r\n        }\r\n        return [`Full Results: ${wotcUrl || \"\"}`, \"\", ...resultLines, \"\", thx].join(\"\\r\\n\");\r\n    };\r\n\r\n    const copyToClipboard = async (text: string) => {\r\n        if (!navigator.clipboard) {\r\n            return;\r\n        }\r\n        await navigator.clipboard.writeText(text);\r\n    };\r\n\r\n    // filtering\r\n    const deckHasCard = (deck: Deck, filterCards: string[]): boolean => {\r\n        const cards = [...deck.main, ...deck.sideboard];\r\n        if (cards.filter((c) => filterCards.includes(c.name)).length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const deckHasExpansion = (deck: Deck, filterExpansions: string[]): boolean => {\r\n        const cards = [...deck.main, ...deck.sideboard];\r\n        const nonBasics = cards.filter(\r\n            (c) =>\r\n                ![\r\n                    \"Plains\",\r\n                    \"Island\",\r\n                    \"Swamp\",\r\n                    \"Mountain\",\r\n                    \"Forest\",\r\n                    \"Snow-Covered Plains\",\r\n                    \"Snow-Covered Island\",\r\n                    \"Snow-Covered Swamp\",\r\n                    \"Snow-Covered Mountain\",\r\n                    \"Snow-Covered Forest\"\r\n                ].includes(c.name)\r\n        );\r\n        const expansions = nonBasics.flatMap((c) => c.info?.printings || []);\r\n        const deduped = [...new Set(expansions)];\r\n\r\n        if (deduped.filter((e) => filterExpansions.includes(e)).length) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const applyDeckFilters = useCallback(\r\n        (results: Result[]): Result[] => {\r\n            const spicyResults = results.filter((r) => !filterForSpice || r.spicy);\r\n            const faveResults = spicyResults.filter((r) => !filterForFave || r.favorite);\r\n            const expacResults = faveResults.filter((r) => !selectedExpansions.length || deckHasExpansion(r.deck, selectedExpansions));\r\n            const cardResults = expacResults.filter((r) => !selectedCards.length || deckHasCard(r.deck, selectedCards));\r\n            return cardResults;\r\n        },\r\n        [selectedCards, selectedExpansions, filterForFave, filterForSpice]\r\n    );\r\n\r\n    const applyCardFilters = useCallback(\r\n        (cards: CardCount[]): CardCount[] => {\r\n            const filteredBySet = cards.filter(\r\n                (c) => !selectedExpansions.length || c.card.info?.printings.filter((p) => selectedExpansions.includes(p)).length\r\n            );\r\n            const filteredByCard = filteredBySet.filter((c) => !selectedCards.length || selectedCards.includes(c.card.name));\r\n            return filteredByCard;\r\n        },\r\n        [selectedCards, selectedExpansions]\r\n    );\r\n\r\n    const filteredResults = applyDeckFilters(resultList);\r\n    const filteredCardCounts = applyCardFilters(cardCounts);\r\n\r\n    const previewText = textFormat === \"markdown\" ? generateMarkdown(filteredResults) : generatePlaintext(filteredResults);\r\n\r\n    const decksByCard: string = cardCounts\r\n        .filter(\r\n            (c) =>\r\n                ![\r\n                    \"Plains\",\r\n                    \"Island\",\r\n                    \"Swamp\",\r\n                    \"Mountain\",\r\n                    \"Forest\",\r\n                    \"Snow-Covered Plains\",\r\n                    \"Snow-Covered Island\",\r\n                    \"Snow-Covered Swamp\",\r\n                    \"Snow-Covered Mountain\",\r\n                    \"Snow-Covered Forest\"\r\n                ].includes(c.card.name)\r\n        )\r\n        .filter((c) => c.card.info?.printings.includes(setList[0].code) && (showReprints || c.card.info?.printings.length === 1))\r\n        .map((c) => {\r\n            const cardName = `* [[${c.card.name}]]`;\r\n            const urls = resultList\r\n                .filter((r) => deckHasCard(r.deck, [c.card.name]))\r\n                .map((r) => {\r\n                    return `**[${r.archetype || \"archetype\"}](${r.url})**`;\r\n                });\r\n            return `${cardName} ${[...urls].join(\", \")}`;\r\n        })\r\n        .join(\"\\r\\n\");\r\n\r\n    const panes = [\r\n        {\r\n            menuItem: \"Preview\",\r\n            pane: (\r\n                <Tab.Pane key=\"Preview\">\r\n                    <Form>\r\n                        <Form.TextArea value={previewText} style={{ height: 500 }} />\r\n                    </Form>\r\n                </Tab.Pane>\r\n            )\r\n        },\r\n        {\r\n            menuItem: \"Card Counts\",\r\n            pane: (\r\n                <Tab.Pane key=\"Counts\">\r\n                    <Form>\r\n                        <Form.TextArea\r\n                            value={filteredCardCounts\r\n                                .sort((a, b) => b.card.count - a.card.count)\r\n                                .map(\r\n                                    (c) =>\r\n                                        `${c.card.count} cop${c.card.count > 1 ? \"ies\" : \"y\"} of ${c.card.name} in ${c.deckCount} deck${\r\n                                            c.deckCount > 1 ? \"s\" : \"\"\r\n                                        }`\r\n                                )\r\n                                .join(\"\\r\\n\")}\r\n                            style={{ height: 500 }}\r\n                        />\r\n                    </Form>\r\n                </Tab.Pane>\r\n            )\r\n        },\r\n        {\r\n            menuItem: `Decks with ${setList[0].code} Cards`,\r\n            pane: (\r\n                <Tab.Pane key=\"ByCard\">\r\n                    <Form>\r\n                        <Form.Checkbox label=\"Show Reprints?\" checked={!!showReprints} onChange={(e, { checked }) => setShowReprints(!!checked)} />\r\n                        <Form.TextArea style={{ height: 500 }} value={decksByCard} />\r\n                    </Form>\r\n                </Tab.Pane>\r\n            )\r\n        }\r\n    ];\r\n\r\n    const handleRulesModalClose = (refresh: boolean) => {\r\n        if (refresh) {\r\n            const namedResults = resultList.map((r) => identifyArchetype(r));\r\n            setResultList(namedResults);\r\n        }\r\n        setRulesModalOpen(false);\r\n    };\r\n\r\n    return (\r\n        <Container className=\"App\">\r\n            {isLoading && (\r\n                <Dimmer active inverted>\r\n                    <Loader size=\"large\">Loading</Loader>\r\n                </Dimmer>\r\n            )}\r\n            <Header>MTGO Results Scraper</Header>\r\n            <Grid columns={16}>\r\n                <Grid.Row>\r\n                    <Message success>\r\n                        The scraper should be functional, but there will likely be some bugs as the new MTGO team works out issues with their site and I try to\r\n                        keep up. Please <a href=\"https://reddit.com/message/compose/?to=FereMiyJeenyus\">message me on Reddit</a> if you notice anything, and I\r\n                        will fix it as soon as possible.\r\n                    </Message>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Grid.Column width={3} textAlign=\"left\">\r\n                        <Input value={wotcUrl} onChange={(e) => setWotcUrl(e.target.value)} placeholder=\"Deck Dump URL\" />\r\n                        <a href=\"https://www.mtgo.com/en/mtgo/decklists\" target=\"_blank\" rel=\"noopener noreferrer\" style={{ marginLeft: \"1em\" }}>\r\n                            MTGO Results\r\n                        </a>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={13} textAlign=\"left\">\r\n                        <List horizontal>\r\n                            <List.Item>\r\n                                <Button onClick={scrape} content=\"Scrape\" />\r\n                            </List.Item>\r\n                            <List.Item>\r\n                                <Button onClick={() => setDeckModalOpen(true)} content=\"Decks\" disabled={!hasScraped} />\r\n                            </List.Item>\r\n                            <List.Item>\r\n                                <Button\r\n                                    onClick={() => {\r\n                                        setRulesModalOpen(true);\r\n                                    }}\r\n                                    content=\"Archetype Definitions\"\r\n                                />\r\n                            </List.Item>\r\n                            <List.Item>\r\n                                <Button onClick={() => setInfoModalOpen(true)} content=\"What is this?\" />\r\n                            </List.Item>\r\n                        </List>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n\r\n                <Grid.Row>\r\n                    <Grid.Column width={16}>\r\n                        <Accordion>\r\n                            <Accordion.Title\r\n                                active={expandOptions}\r\n                                onClick={() => {\r\n                                    setExpandOptions(!expandOptions);\r\n                                }}\r\n                            >\r\n                                <Icon name=\"dropdown\" />\r\n                                <span>Filters and Options (mostly functional, will make it look nicer soon)</span>\r\n                                <div className=\"accordion-title-line\" />\r\n                            </Accordion.Title>\r\n                            <Accordion.Content active={expandOptions}>\r\n                                <Form.Dropdown\r\n                                    label=\"Filter By Card: \"\r\n                                    multiple\r\n                                    clearable\r\n                                    search\r\n                                    selection\r\n                                    lazyLoad\r\n                                    value={selectedCards}\r\n                                    options={cardOptions || []}\r\n                                    onChange={(_e, { value }) => {\r\n                                        setSelectedCards(value as string[]);\r\n                                    }}\r\n                                />\r\n                                <Form.Dropdown\r\n                                    label=\"Filter By Expansion: \"\r\n                                    multiple\r\n                                    clearable\r\n                                    search\r\n                                    selection\r\n                                    value={selectedExpansions}\r\n                                    options={setList.map((s) => ({\r\n                                        key: s.code,\r\n                                        value: s.code,\r\n                                        text: s.name\r\n                                    }))}\r\n                                    onChange={(_e, { value }) => {\r\n                                        setSelectedExpansions(value as string[]);\r\n                                    }}\r\n                                />\r\n                                <Form.Field>Preview Text</Form.Field>\r\n                                <Form.Checkbox\r\n                                    radio\r\n                                    name=\"textFormatRadioGroup\"\r\n                                    label=\"Markdown\"\r\n                                    value={textFormat}\r\n                                    checked={textFormat === \"markdown\"}\r\n                                    onClick={() => setTextFormat(\"markdown\")}\r\n                                />\r\n                                <Form.Checkbox\r\n                                    radio\r\n                                    name=\"textFormatRadioGroup\"\r\n                                    label=\"Plaintext\"\r\n                                    value={textFormat}\r\n                                    checked={textFormat === \"plaintext\"}\r\n                                    onClick={() => setTextFormat(\"plaintext\")}\r\n                                />\r\n                                <Form.Checkbox\r\n                                    toggle\r\n                                    label=\"Marked as Spicy?\"\r\n                                    checked={filterForSpice}\r\n                                    onChange={(_e, { checked }) => setFilterForSpice(!!checked)}\r\n                                />\r\n                                <Form.Checkbox\r\n                                    toggle\r\n                                    label=\"Marked as Favorite?\"\r\n                                    checked={filterForFave}\r\n                                    onChange={(_e, { checked }) => setFilterForFave(!!checked)}\r\n                                />\r\n                            </Accordion.Content>\r\n                        </Accordion>\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n\r\n                <Grid.Row>\r\n                    <Grid.Column width={16}>\r\n                        {scrapeError && (\r\n                            <Message negative>\r\n                                <p>There was an error while attempting to scrape results. Please try again later</p>\r\n                            </Message>\r\n                        )}\r\n                        <Tab panes={panes} renderActiveOnly={false} />\r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n                <Grid.Row>\r\n                    <Button\r\n                        onClick={() => {\r\n                            copyToClipboard(generatePlaintext(filteredResults));\r\n                        }}\r\n                        content=\"Copy Plaintext\"\r\n                    />\r\n                    <Button\r\n                        onClick={() => {\r\n                            copyToClipboard(generateMarkdown(filteredResults));\r\n                        }}\r\n                        content=\"Copy Markdown\"\r\n                    />\r\n                </Grid.Row>\r\n            </Grid>\r\n            <DeckDetailModal\r\n                open={deckModalOpen && !!resultList?.length}\r\n                onClose={() => setDeckModalOpen(false)}\r\n                results={resultList}\r\n                setResults={setResultList}\r\n            />\r\n            <RulesModal open={rulesModalOpen} onClose={handleRulesModalClose} archetypeRules={archetypeRules} setArchetypeRules={setArchetypeRules} />\r\n            <InfoModal open={infoModalOpen} onClose={() => setInfoModalOpen(false)} />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === \"localhost\" ||\r\n        // [::1] is the IPv6 localhost address.\r\n        window.location.hostname === \"[::1]\" ||\r\n        // 127.0.0.0/8 are considered localhost for IPv4.\r\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n            return;\r\n        }\r\n\r\n        window.addEventListener(\"load\", () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n            if (isLocalhost) {\r\n                // This is running on localhost. Let's check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl, config);\r\n\r\n                // Add some additional logging to localhost, pointing developers to the\r\n                // service worker/PWA documentation.\r\n                navigator.serviceWorker.ready.then(() => {\r\n                    console.log(\"This web app is being served cache-first by a service \" + \"worker. To learn more, visit https://bit.ly/CRA-PWA\");\r\n                });\r\n            } else {\r\n                // Is not localhost. Just register service worker\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n    navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then((registration) => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                if (installingWorker == null) {\r\n                    return;\r\n                }\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === \"installed\") {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the updated precached content has been fetched,\r\n                            // but the previous service worker will still serve the older\r\n                            // content until all client tabs are closed.\r\n                            console.log(\"New content is available and will be used when all \" + \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\r\n\r\n                            // Execute callback\r\n                            if (config && config.onUpdate) {\r\n                                config.onUpdate(registration);\r\n                            }\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.log(\"Content is cached for offline use.\");\r\n\r\n                            // Execute callback\r\n                            if (config && config.onSuccess) {\r\n                                config.onSuccess(registration);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error during service worker registration:\", error);\r\n        });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n        headers: { \"Service-Worker\": \"script\" }\r\n    })\r\n        .then((response) => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            const contentType = response.headers.get(\"content-type\");\r\n            if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then((registration) => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                });\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl, config);\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.log(\"No internet connection found. App is running in offline mode.\");\r\n        });\r\n}\r\n\r\nexport function unregister() {\r\n    if (\"serviceWorker\" in navigator) {\r\n        navigator.serviceWorker.ready\r\n            .then((registration) => {\r\n                registration.unregister();\r\n            })\r\n            .catch((error) => {\r\n                console.error(error.message);\r\n            });\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}